webpackJsonp([14],{124:function(module,exports){eval('/*! noUiSlider - 7.0.10 - 2014-12-27 14:50:47 */\n\n!function () {\n  "use strict";\n  function a(a) {\n    return a.split("").reverse().join("");\n  }function b(a, b) {\n    return a.substring(0, b.length) === b;\n  }function c(a, b) {\n    return a.slice(-1 * b.length) === b;\n  }function d(a, b, c) {\n    if ((a[b] || a[c]) && a[b] === a[c]) throw new Error(b);\n  }function e(a) {\n    return "number" == typeof a && isFinite(a);\n  }function f(a, b) {\n    var c = Math.pow(10, b);return (Math.round(a * c) / c).toFixed(b);\n  }function g(b, c, d, g, h, i, j, k, l, m, n, o) {\n    var p,\n        q,\n        r,\n        s = o,\n        t = "",\n        u = "";return i && (o = i(o)), e(o) ? (b !== !1 && 0 === parseFloat(o.toFixed(b)) && (o = 0), 0 > o && (p = !0, o = Math.abs(o)), b !== !1 && (o = f(o, b)), o = o.toString(), -1 !== o.indexOf(".") ? (q = o.split("."), r = q[0], d && (t = d + q[1])) : r = o, c && (r = a(r).match(/.{1,3}/g), r = a(r.join(a(c)))), p && k && (u += k), g && (u += g), p && l && (u += l), u += r, u += t, h && (u += h), m && (u = m(u, s)), u) : !1;\n  }function h(a, d, f, g, h, i, j, k, l, m, n, o) {\n    var p,\n        q = "";return n && (o = n(o)), o && "string" == typeof o ? (k && b(o, k) && (o = o.replace(k, ""), p = !0), g && b(o, g) && (o = o.replace(g, "")), l && b(o, l) && (o = o.replace(l, ""), p = !0), h && c(o, h) && (o = o.slice(0, -1 * h.length)), d && (o = o.split(d).join("")), f && (o = o.replace(f, ".")), p && (q += "-"), q += o, q = q.replace(/[^0-9\\.\\-.]/g, ""), "" === q ? !1 : (q = Number(q), j && (q = j(q)), e(q) ? q : !1)) : !1;\n  }function i(a) {\n    var b,\n        c,\n        e,\n        f = {};for (b = 0; b < l.length; b += 1) if (c = l[b], e = a[c], void 0 === e) f[c] = "negative" !== c || f.negativeBefore ? "mark" === c && "." !== f.thousand ? "." : !1 : "-";else if ("decimals" === c) {\n      if (!(e >= 0 && 8 > e)) throw new Error(c);f[c] = e;\n    } else if ("encoder" === c || "decoder" === c || "edit" === c || "undo" === c) {\n      if ("function" != typeof e) throw new Error(c);f[c] = e;\n    } else {\n      if ("string" != typeof e) throw new Error(c);f[c] = e;\n    }return d(f, "mark", "thousand"), d(f, "prefix", "negative"), d(f, "prefix", "negativeBefore"), f;\n  }function j(a, b, c) {\n    var d,\n        e = [];for (d = 0; d < l.length; d += 1) e.push(a[l[d]]);return e.push(c), b.apply("", e);\n  }function k(a) {\n    return this instanceof k ? void ("object" == typeof a && (a = i(a), this.to = function (b) {\n      return j(a, g, b);\n    }, this.from = function (b) {\n      return j(a, h, b);\n    })) : new k(a);\n  }var l = ["decimals", "thousand", "mark", "prefix", "postfix", "encoder", "decoder", "negativeBefore", "negative", "edit", "undo"];window.wNumb = k;\n}(), function (a) {\n  "use strict";\n  function b(b) {\n    return b instanceof a || a.zepto && a.zepto.isZ(b);\n  }function c(b, c) {\n    return "string" == typeof b && 0 === b.indexOf("-inline-") ? (this.method = c || "html", this.target = this.el = a(b.replace("-inline-", "") || "<div/>"), !0) : void 0;\n  }function d(b) {\n    if ("string" == typeof b && 0 !== b.indexOf("-")) {\n      this.method = "val";var c = document.createElement("input");return c.name = b, c.type = "hidden", this.target = this.el = a(c), !0;\n    }\n  }function e(a) {\n    return "function" == typeof a ? (this.target = !1, this.method = a, !0) : void 0;\n  }function f(a, c) {\n    return b(a) && !c ? (a.is("input, select, textarea") ? (this.method = "val", this.target = a.on("change.liblink", this.changeHandler)) : (this.target = a, this.method = "html"), !0) : void 0;\n  }function g(a, c) {\n    return b(a) && ("function" == typeof c || "string" == typeof c && a[c]) ? (this.method = c, this.target = a, !0) : void 0;\n  }function h(b, c, d) {\n    var e = this,\n        f = !1;if (this.changeHandler = function (b) {\n      var c = e.formatInstance.from(a(this).val());return c === !1 || isNaN(c) ? (a(this).val(e.lastSetValue), !1) : void e.changeHandlerMethod.call("", b, c);\n    }, this.el = !1, this.formatInstance = d, a.each(k, function (a, d) {\n      return f = d.call(e, b, c), !f;\n    }), !f) throw new RangeError("(Link) Invalid Link.");\n  }function i(a) {\n    this.items = [], this.elements = [], this.origin = a;\n  }function j(b, c, d, e) {\n    0 === b && (b = this.LinkDefaultFlag), this.linkAPI || (this.linkAPI = {}), this.linkAPI[b] || (this.linkAPI[b] = new i(this));var f = new h(c, d, e || this.LinkDefaultFormatter);f.target || (f.target = a(this)), f.changeHandlerMethod = this.LinkConfirm(b, f.el), this.linkAPI[b].push(f, f.el), this.LinkUpdate(b);\n  }var k = [c, d, e, f, g];h.prototype.set = function (a) {\n    var b = Array.prototype.slice.call(arguments),\n        c = b.slice(1);this.lastSetValue = this.formatInstance.to(a), c.unshift(this.lastSetValue), ("function" == typeof this.method ? this.method : this.target[this.method]).apply(this.target, c);\n  }, i.prototype.push = function (a, b) {\n    this.items.push(a), b && this.elements.push(b);\n  }, i.prototype.reconfirm = function (a) {\n    var b;for (b = 0; b < this.elements.length; b += 1) this.origin.LinkConfirm(a, this.elements[b]);\n  }, i.prototype.remove = function () {\n    var a;for (a = 0; a < this.items.length; a += 1) this.items[a].target.off(".liblink");for (a = 0; a < this.elements.length; a += 1) this.elements[a].remove();\n  }, i.prototype.change = function (a) {\n    if (this.origin.LinkIsEmitting) return !1;this.origin.LinkIsEmitting = !0;var b,\n        c = Array.prototype.slice.call(arguments, 1);for (c.unshift(a), b = 0; b < this.items.length; b += 1) this.items[b].set.apply(this.items[b], c);this.origin.LinkIsEmitting = !1;\n  }, a.fn.Link = function (b) {\n    var c = this;if (b === !1) return c.each(function () {\n      this.linkAPI && (a.map(this.linkAPI, function (a) {\n        a.remove();\n      }), delete this.linkAPI);\n    });if (void 0 === b) b = 0;else if ("string" != typeof b) throw new Error("Flag must be string.");return { to: function (a, d, e) {\n        return c.each(function () {\n          j.call(this, b, a, d, e);\n        });\n      } };\n  };\n}(window.jQuery || window.Zepto), function (a) {\n  "use strict";\n  function b(b) {\n    return a.grep(b, function (c, d) {\n      return d === a.inArray(c, b);\n    });\n  }function c(a, b) {\n    return Math.round(a / b) * b;\n  }function d(a) {\n    return "number" == typeof a && !isNaN(a) && isFinite(a);\n  }function e(a) {\n    var b = Math.pow(10, 7);return Number((Math.round(a * b) / b).toFixed(7));\n  }function f(a, b, c) {\n    a.addClass(b), setTimeout(function () {\n      a.removeClass(b);\n    }, c);\n  }function g(a) {\n    return Math.max(Math.min(a, 100), 0);\n  }function h(b) {\n    return a.isArray(b) ? b : [b];\n  }function i(a) {\n    var b = a.split(".");return b.length > 1 ? b[1].length : 0;\n  }function j(a, b) {\n    return 100 / (b - a);\n  }function k(a, b) {\n    return 100 * b / (a[1] - a[0]);\n  }function l(a, b) {\n    return k(a, a[0] < 0 ? b + Math.abs(a[0]) : b - a[0]);\n  }function m(a, b) {\n    return b * (a[1] - a[0]) / 100 + a[0];\n  }function n(a, b) {\n    for (var c = 1; a >= b[c];) c += 1;return c;\n  }function o(a, b, c) {\n    if (c >= a.slice(-1)[0]) return 100;var d,\n        e,\n        f,\n        g,\n        h = n(c, a);return d = a[h - 1], e = a[h], f = b[h - 1], g = b[h], f + l([d, e], c) / j(f, g);\n  }function p(a, b, c) {\n    if (c >= 100) return a.slice(-1)[0];var d,\n        e,\n        f,\n        g,\n        h = n(c, b);return d = a[h - 1], e = a[h], f = b[h - 1], g = b[h], m([d, e], (c - f) * j(f, g));\n  }function q(a, b, d, e) {\n    if (100 === e) return e;var f,\n        g,\n        h = n(e, a);return d ? (f = a[h - 1], g = a[h], e - f > (g - f) / 2 ? g : f) : b[h - 1] ? a[h - 1] + c(e - a[h - 1], b[h - 1]) : e;\n  }function r(a, b, c) {\n    var e;if ("number" == typeof b && (b = [b]), "[object Array]" !== Object.prototype.toString.call(b)) throw new Error("noUiSlider: \'range\' contains invalid value.");if (e = "min" === a ? 0 : "max" === a ? 100 : parseFloat(a), !d(e) || !d(b[0])) throw new Error("noUiSlider: \'range\' value isn\'t numeric.");c.xPct.push(e), c.xVal.push(b[0]), e ? c.xSteps.push(isNaN(b[1]) ? !1 : b[1]) : isNaN(b[1]) || (c.xSteps[0] = b[1]);\n  }function s(a, b, c) {\n    return b ? void (c.xSteps[a] = k([c.xVal[a], c.xVal[a + 1]], b) / j(c.xPct[a], c.xPct[a + 1])) : !0;\n  }function t(a, b, c, d) {\n    this.xPct = [], this.xVal = [], this.xSteps = [d || !1], this.xNumSteps = [!1], this.snap = b, this.direction = c;var e,\n        f = [];for (e in a) a.hasOwnProperty(e) && f.push([a[e], e]);for (f.sort(function (a, b) {\n      return a[0] - b[0];\n    }), e = 0; e < f.length; e++) r(f[e][1], f[e][0], this);for (this.xNumSteps = this.xSteps.slice(0), e = 0; e < this.xNumSteps.length; e++) s(e, this.xNumSteps[e], this);\n  }function u(a, b) {\n    if (!d(b)) throw new Error("noUiSlider: \'step\' is not numeric.");a.singleStep = b;\n  }function v(b, c) {\n    if ("object" != typeof c || a.isArray(c)) throw new Error("noUiSlider: \'range\' is not an object.");if (void 0 === c.min || void 0 === c.max) throw new Error("noUiSlider: Missing \'min\' or \'max\' in \'range\'.");b.spectrum = new t(c, b.snap, b.dir, b.singleStep);\n  }function w(b, c) {\n    if (c = h(c), !a.isArray(c) || !c.length || c.length > 2) throw new Error("noUiSlider: \'start\' option is incorrect.");b.handles = c.length, b.start = c;\n  }function x(a, b) {\n    if (a.snap = b, "boolean" != typeof b) throw new Error("noUiSlider: \'snap\' option must be a boolean.");\n  }function y(a, b) {\n    if (a.animate = b, "boolean" != typeof b) throw new Error("noUiSlider: \'animate\' option must be a boolean.");\n  }function z(a, b) {\n    if ("lower" === b && 1 === a.handles) a.connect = 1;else if ("upper" === b && 1 === a.handles) a.connect = 2;else if (b === !0 && 2 === a.handles) a.connect = 3;else {\n      if (b !== !1) throw new Error("noUiSlider: \'connect\' option doesn\'t match handle count.");a.connect = 0;\n    }\n  }function A(a, b) {\n    switch (b) {case "horizontal":\n        a.ort = 0;break;case "vertical":\n        a.ort = 1;break;default:\n        throw new Error("noUiSlider: \'orientation\' option is invalid.");}\n  }function B(a, b) {\n    if (!d(b)) throw new Error("noUiSlider: \'margin\' option must be numeric.");if (a.margin = a.spectrum.getMargin(b), !a.margin) throw new Error("noUiSlider: \'margin\' option is only supported on linear sliders.");\n  }function C(a, b) {\n    if (!d(b)) throw new Error("noUiSlider: \'limit\' option must be numeric.");if (a.limit = a.spectrum.getMargin(b), !a.limit) throw new Error("noUiSlider: \'limit\' option is only supported on linear sliders.");\n  }function D(a, b) {\n    switch (b) {case "ltr":\n        a.dir = 0;break;case "rtl":\n        a.dir = 1, a.connect = [0, 2, 1, 3][a.connect];break;default:\n        throw new Error("noUiSlider: \'direction\' option was not recognized.");}\n  }function E(a, b) {\n    if ("string" != typeof b) throw new Error("noUiSlider: \'behaviour\' must be a string containing options.");var c = b.indexOf("tap") >= 0,\n        d = b.indexOf("drag") >= 0,\n        e = b.indexOf("fixed") >= 0,\n        f = b.indexOf("snap") >= 0;a.events = { tap: c || f, drag: d, fixed: e, snap: f };\n  }function F(a, b) {\n    if (a.format = b, "function" == typeof b.to && "function" == typeof b.from) return !0;throw new Error("noUiSlider: \'format\' requires \'to\' and \'from\' methods.");\n  }function G(b) {\n    var c,\n        d = { margin: 0, limit: 0, animate: !0, format: Z };return c = { step: { r: !1, t: u }, start: { r: !0, t: w }, connect: { r: !0, t: z }, direction: { r: !0, t: D }, snap: { r: !1, t: x }, animate: { r: !1, t: y }, range: { r: !0, t: v }, orientation: { r: !1, t: A }, margin: { r: !1, t: B }, limit: { r: !1, t: C }, behaviour: { r: !0, t: E }, format: { r: !1, t: F } }, b = a.extend({ connect: !1, direction: "ltr", behaviour: "tap", orientation: "horizontal" }, b), a.each(c, function (a, c) {\n      if (void 0 === b[a]) {\n        if (c.r) throw new Error("noUiSlider: \'" + a + "\' is required.");return !0;\n      }c.t(d, b[a]);\n    }), d.style = d.ort ? "top" : "left", d;\n  }function H(a, b, c) {\n    var d = a + b[0],\n        e = a + b[1];return c ? (0 > d && (e += Math.abs(d)), e > 100 && (d -= e - 100), [g(d), g(e)]) : [d, e];\n  }function I(a) {\n    a.preventDefault();var b,\n        c,\n        d = 0 === a.type.indexOf("touch"),\n        e = 0 === a.type.indexOf("mouse"),\n        f = 0 === a.type.indexOf("pointer"),\n        g = a;return 0 === a.type.indexOf("MSPointer") && (f = !0), a.originalEvent && (a = a.originalEvent), d && (b = a.changedTouches[0].pageX, c = a.changedTouches[0].pageY), (e || f) && (f || void 0 !== window.pageXOffset || (window.pageXOffset = document.documentElement.scrollLeft, window.pageYOffset = document.documentElement.scrollTop), b = a.clientX + window.pageXOffset, c = a.clientY + window.pageYOffset), g.points = [b, c], g.cursor = e, g;\n  }function J(b, c) {\n    var d = a("<div><div/></div>").addClass(Y[2]),\n        e = ["-lower", "-upper"];return b && e.reverse(), d.children().addClass(Y[3] + " " + Y[3] + e[c]), d;\n  }function K(a, b, c) {\n    switch (a) {case 1:\n        b.addClass(Y[7]), c[0].addClass(Y[6]);break;case 3:\n        c[1].addClass(Y[6]);case 2:\n        c[0].addClass(Y[7]);case 0:\n        b.addClass(Y[6]);}\n  }function L(a, b, c) {\n    var d,\n        e = [];for (d = 0; a > d; d += 1) e.push(J(b, d).appendTo(c));return e;\n  }function M(b, c, d) {\n    return d.addClass([Y[0], Y[8 + b], Y[4 + c]].join(" ")), a("<div/>").appendTo(d).addClass(Y[1]);\n  }function N(b, c, d) {\n    function e() {\n      return C[["width", "height"][c.ort]]();\n    }function j(a) {\n      var b,\n          c = [E.val()];for (b = 0; b < a.length; b += 1) E.trigger(a[b], c);\n    }function k(a) {\n      return 1 === a.length ? a[0] : c.dir ? a.reverse() : a;\n    }function l(a) {\n      return function (b, c) {\n        E.val([a ? null : c, a ? c : null], !0);\n      };\n    }function m(b) {\n      var c = a.inArray(b, N);E[0].linkAPI && E[0].linkAPI[b] && E[0].linkAPI[b].change(J[c], D[c].children(), E);\n    }function n(b, d) {\n      var e = a.inArray(b, N);return d && d.appendTo(D[e].children()), c.dir && c.handles > 1 && (e = 1 === e ? 0 : 1), l(e);\n    }function o() {\n      var a, b;for (a = 0; a < N.length; a += 1) this.linkAPI && this.linkAPI[b = N[a]] && this.linkAPI[b].reconfirm(b);\n    }function p(a, b, d, e) {\n      return a = a.replace(/\\s/g, W + " ") + W, b.on(a, function (a) {\n        return E.attr("disabled") ? !1 : E.hasClass(Y[14]) ? !1 : (a = I(a), a.calcPoint = a.points[c.ort], void d(a, e));\n      });\n    }function q(a, b) {\n      var c,\n          d = b.handles || D,\n          f = !1,\n          g = 100 * (a.calcPoint - b.start) / e(),\n          h = d[0][0] !== D[0][0] ? 1 : 0;c = H(g, b.positions, d.length > 1), f = v(d[0], c[h], 1 === d.length), d.length > 1 && (f = v(d[1], c[h ? 0 : 1], !1) || f), f && j(["slide"]);\n    }function r(b) {\n      a("." + Y[15]).removeClass(Y[15]), b.cursor && a("body").css("cursor", "").off(W), U.off(W), E.removeClass(Y[12]), j(["set", "change"]);\n    }function s(b, c) {\n      1 === c.handles.length && c.handles[0].children().addClass(Y[15]), b.stopPropagation(), p(X.move, U, q, { start: b.calcPoint, handles: c.handles, positions: [F[0], F[D.length - 1]] }), p(X.end, U, r, null), b.cursor && (a("body").css("cursor", a(b.target).css("cursor")), D.length > 1 && E.addClass(Y[12]), a("body").on("selectstart" + W, !1));\n    }function t(b) {\n      var d,\n          g = b.calcPoint,\n          h = 0;b.stopPropagation(), a.each(D, function () {\n        h += this.offset()[c.style];\n      }), h = h / 2 > g || 1 === D.length ? 0 : 1, g -= C.offset()[c.style], d = 100 * g / e(), c.events.snap || f(E, Y[14], 300), v(D[h], d), j(["slide", "set", "change"]), c.events.snap && s(b, { handles: [D[h]] });\n    }function u(a) {\n      var b, c;if (!a.fixed) for (b = 0; b < D.length; b += 1) p(X.start, D[b].children(), s, { handles: [D[b]] });a.tap && p(X.start, C, t, { handles: D }), a.drag && (c = C.find("." + Y[7]).addClass(Y[10]), a.fixed && (c = c.add(C.children().not(c).children())), p(X.start, c, s, { handles: D }));\n    }function v(a, b, d) {\n      var e = a[0] !== D[0][0] ? 1 : 0,\n          f = F[0] + c.margin,\n          h = F[1] - c.margin,\n          i = F[0] + c.limit,\n          j = F[1] - c.limit;return D.length > 1 && (b = e ? Math.max(b, f) : Math.min(b, h)), d !== !1 && c.limit && D.length > 1 && (b = e ? Math.min(b, i) : Math.max(b, j)), b = G.getStep(b), b = g(parseFloat(b.toFixed(7))), b === F[e] ? !1 : (a.css(c.style, b + "%"), a.is(":first-child") && a.toggleClass(Y[17], b > 50), F[e] = b, J[e] = G.fromStepping(b), m(N[e]), !0);\n    }function w(a, b) {\n      var d, e, f;for (c.limit && (a += 1), d = 0; a > d; d += 1) e = d % 2, f = b[e], null !== f && f !== !1 && ("number" == typeof f && (f = String(f)), f = c.format.from(f), (f === !1 || isNaN(f) || v(D[e], G.toStepping(f), d === 3 - c.dir) === !1) && m(N[e]));\n    }function x(a) {\n      if (E[0].LinkIsEmitting) return this;var b,\n          d = h(a);return c.dir && c.handles > 1 && d.reverse(), c.animate && -1 !== F[0] && f(E, Y[14], 300), b = D.length > 1 ? 3 : 1, 1 === d.length && (b = 1), w(b, d), j(["set"]), this;\n    }function y() {\n      var a,\n          b = [];for (a = 0; a < c.handles; a += 1) b[a] = c.format.to(J[a]);return k(b);\n    }function z() {\n      return a(this).off(W).removeClass(Y.join(" ")).empty(), delete this.LinkUpdate, delete this.LinkConfirm, delete this.LinkDefaultFormatter, delete this.LinkDefaultFlag, delete this.reappend, delete this.vGet, delete this.vSet, delete this.getCurrentStep, delete this.getInfo, delete this.destroy, d;\n    }function A() {\n      var b = a.map(F, function (a, b) {\n        var c = G.getApplicableStep(a),\n            d = i(String(c[2])),\n            e = J[b],\n            f = 100 === a ? null : c[2],\n            g = Number((e - c[2]).toFixed(d)),\n            h = 0 === a ? null : g >= c[1] ? c[2] : c[0] || !1;return [[h, f]];\n      });return k(b);\n    }function B() {\n      return d;\n    }var C,\n        D,\n        E = a(b),\n        F = [-1, -1],\n        G = c.spectrum,\n        J = [],\n        N = ["lower", "upper"].slice(0, c.handles);if (c.dir && N.reverse(), b.LinkUpdate = m, b.LinkConfirm = n, b.LinkDefaultFormatter = c.format, b.LinkDefaultFlag = "lower", b.reappend = o, E.hasClass(Y[0])) throw new Error("Slider was already initialized.");C = M(c.dir, c.ort, E), D = L(c.handles, c.dir, C), K(c.connect, E, D), u(c.events), b.vSet = x, b.vGet = y, b.destroy = z, b.getCurrentStep = A, b.getOriginalOptions = B, b.getInfo = function () {\n      return [G, c.style, c.ort];\n    }, E.val(c.start);\n  }function O(a) {\n    var b = G(a, this);return this.each(function () {\n      N(this, b, a);\n    });\n  }function P(b) {\n    return this.each(function () {\n      if (!this.destroy) return void a(this).noUiSlider(b);var c = a(this).val(),\n          d = this.destroy(),\n          e = a.extend({}, d, b);a(this).noUiSlider(e), this.reappend(), d.start === e.start && a(this).val(c);\n    });\n  }function Q() {\n    return this[0][arguments.length ? "vSet" : "vGet"].apply(this[0], arguments);\n  }function R(b, c, d, e) {\n    if ("range" === c || "steps" === c) return b.xVal;if ("count" === c) {\n      var f,\n          g = 100 / (d - 1),\n          h = 0;for (d = []; (f = h++ * g) <= 100;) d.push(f);c = "positions";\n    }return "positions" === c ? a.map(d, function (a) {\n      return b.fromStepping(e ? b.getStep(a) : a);\n    }) : "values" === c ? e ? a.map(d, function (a) {\n      return b.fromStepping(b.getStep(b.toStepping(a)));\n    }) : d : void 0;\n  }function S(c, d, e, f) {\n    var g = c.direction,\n        h = {},\n        i = c.xVal[0],\n        j = c.xVal[c.xVal.length - 1],\n        k = !1,\n        l = !1,\n        m = 0;return c.direction = 0, f = b(f.slice().sort(function (a, b) {\n      return a - b;\n    })), f[0] !== i && (f.unshift(i), k = !0), f[f.length - 1] !== j && (f.push(j), l = !0), a.each(f, function (b) {\n      var g,\n          i,\n          j,\n          n,\n          o,\n          p,\n          q,\n          r,\n          s,\n          t,\n          u = f[b],\n          v = f[b + 1];if ("steps" === e && (g = c.xNumSteps[b]), g || (g = v - u), u !== !1 && void 0 !== v) for (i = u; v >= i; i += g) {\n        for (n = c.toStepping(i), o = n - m, r = o / d, s = Math.round(r), t = o / s, j = 1; s >= j; j += 1) p = m + j * t, h[p.toFixed(5)] = ["x", 0];q = a.inArray(i, f) > -1 ? 1 : "steps" === e ? 2 : 0, !b && k && (q = 0), i === v && l || (h[n.toFixed(5)] = [i, q]), m = n;\n      }\n    }), c.direction = g, h;\n  }function T(b, c, d, e, f, g) {\n    function h(a) {\n      return ["-normal", "-large", "-sub"][a];\n    }function i(a, c, d) {\n      return \'class="\' + c + " " + c + "-" + k + " " + c + h(d[1], d[0]) + \'" style="\' + b + ": " + a + \'%"\';\n    }function j(a, b) {\n      d && (a = 100 - a), b[1] = b[1] && f ? f(b[0], b[1]) : b[1], l.append("<div " + i(a, "noUi-marker", b) + "></div>"), b[1] && l.append("<div " + i(a, "noUi-value", b) + ">" + g.to(b[0]) + "</div>");\n    }var k = ["horizontal", "vertical"][c],\n        l = a("<div/>");return l.addClass("noUi-pips noUi-pips-" + k), a.each(e, j), l;\n  }var U = a(document),\n      V = a.fn.val,\n      W = ".nui",\n      X = window.navigator.pointerEnabled ? { start: "pointerdown", move: "pointermove", end: "pointerup" } : window.navigator.msPointerEnabled ? { start: "MSPointerDown", move: "MSPointerMove", end: "MSPointerUp" } : { start: "mousedown touchstart", move: "mousemove touchmove", end: "mouseup touchend" },\n      Y = ["noUi-target", "noUi-base", "noUi-origin", "noUi-handle", "noUi-horizontal", "noUi-vertical", "noUi-background", "noUi-connect", "noUi-ltr", "noUi-rtl", "noUi-dragable", "", "noUi-state-drag", "", "noUi-state-tap", "noUi-active", "", "noUi-stacking"];t.prototype.getMargin = function (a) {\n    return 2 === this.xPct.length ? k(this.xVal, a) : !1;\n  }, t.prototype.toStepping = function (a) {\n    return a = o(this.xVal, this.xPct, a), this.direction && (a = 100 - a), a;\n  }, t.prototype.fromStepping = function (a) {\n    return this.direction && (a = 100 - a), e(p(this.xVal, this.xPct, a));\n  }, t.prototype.getStep = function (a) {\n    return this.direction && (a = 100 - a), a = q(this.xPct, this.xSteps, this.snap, a), this.direction && (a = 100 - a), a;\n  }, t.prototype.getApplicableStep = function (a) {\n    var b = n(a, this.xPct),\n        c = 100 === a ? 2 : 1;return [this.xNumSteps[b - 2], this.xVal[b - c], this.xNumSteps[b - c]];\n  }, t.prototype.convert = function (a) {\n    return this.getStep(this.toStepping(a));\n  };var Z = { to: function (a) {\n      return a.toFixed(2);\n    }, from: Number };a.fn.val = function (b) {\n    function c(a) {\n      return a.hasClass(Y[0]) ? Q : V;\n    }if (!arguments.length) {\n      var d = a(this[0]);return c(d).call(d);\n    }var e = a.isFunction(b);return this.each(function (d) {\n      var f = b,\n          g = a(this);e && (f = b.call(this, d, g.val())), c(g).call(g, f);\n    });\n  }, a.fn.noUiSlider = function (a, b) {\n    switch (a) {case "step":\n        return this[0].getCurrentStep();case "options":\n        return this[0].getOriginalOptions();}return (b ? P : O).call(this, a);\n  }, a.fn.noUiSlider_pips = function (b) {\n    var c = b.mode,\n        d = b.density || 1,\n        e = b.filter || !1,\n        f = b.values || !1,\n        g = b.format || { to: Math.round },\n        h = b.stepped || !1;return this.each(function () {\n      var b = this.getInfo(),\n          i = R(b[0], c, f, h),\n          j = S(b[0], d, c, i);return a(this).append(T(b[1], b[2], b[0].direction, j, e, g));\n    });\n  };\n}(window.jQuery || window.Zepto);//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTI0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vfi9ub3Vpc2xpZGVyL2Rpc3RyaWJ1dGUvanF1ZXJ5Lm5vdWlzbGlkZXIuYWxsLm1pbi5qcz9kOTA5Il0sInNvdXJjZXNDb250ZW50IjpbIi8qISBub1VpU2xpZGVyIC0gNy4wLjEwIC0gMjAxNC0xMi0yNyAxNDo1MDo0NyAqL1xuXG4hZnVuY3Rpb24gKCkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgZnVuY3Rpb24gYShhKSB7XG4gICAgcmV0dXJuIGEuc3BsaXQoXCJcIikucmV2ZXJzZSgpLmpvaW4oXCJcIik7XG4gIH1mdW5jdGlvbiBiKGEsIGIpIHtcbiAgICByZXR1cm4gYS5zdWJzdHJpbmcoMCwgYi5sZW5ndGgpID09PSBiO1xuICB9ZnVuY3Rpb24gYyhhLCBiKSB7XG4gICAgcmV0dXJuIGEuc2xpY2UoLTEgKiBiLmxlbmd0aCkgPT09IGI7XG4gIH1mdW5jdGlvbiBkKGEsIGIsIGMpIHtcbiAgICBpZiAoKGFbYl0gfHwgYVtjXSkgJiYgYVtiXSA9PT0gYVtjXSkgdGhyb3cgbmV3IEVycm9yKGIpO1xuICB9ZnVuY3Rpb24gZShhKSB7XG4gICAgcmV0dXJuIFwibnVtYmVyXCIgPT0gdHlwZW9mIGEgJiYgaXNGaW5pdGUoYSk7XG4gIH1mdW5jdGlvbiBmKGEsIGIpIHtcbiAgICB2YXIgYyA9IE1hdGgucG93KDEwLCBiKTtyZXR1cm4gKE1hdGgucm91bmQoYSAqIGMpIC8gYykudG9GaXhlZChiKTtcbiAgfWZ1bmN0aW9uIGcoYiwgYywgZCwgZywgaCwgaSwgaiwgaywgbCwgbSwgbiwgbykge1xuICAgIHZhciBwLFxuICAgICAgICBxLFxuICAgICAgICByLFxuICAgICAgICBzID0gbyxcbiAgICAgICAgdCA9IFwiXCIsXG4gICAgICAgIHUgPSBcIlwiO3JldHVybiBpICYmIChvID0gaShvKSksIGUobykgPyAoYiAhPT0gITEgJiYgMCA9PT0gcGFyc2VGbG9hdChvLnRvRml4ZWQoYikpICYmIChvID0gMCksIDAgPiBvICYmIChwID0gITAsIG8gPSBNYXRoLmFicyhvKSksIGIgIT09ICExICYmIChvID0gZihvLCBiKSksIG8gPSBvLnRvU3RyaW5nKCksIC0xICE9PSBvLmluZGV4T2YoXCIuXCIpID8gKHEgPSBvLnNwbGl0KFwiLlwiKSwgciA9IHFbMF0sIGQgJiYgKHQgPSBkICsgcVsxXSkpIDogciA9IG8sIGMgJiYgKHIgPSBhKHIpLm1hdGNoKC8uezEsM30vZyksIHIgPSBhKHIuam9pbihhKGMpKSkpLCBwICYmIGsgJiYgKHUgKz0gayksIGcgJiYgKHUgKz0gZyksIHAgJiYgbCAmJiAodSArPSBsKSwgdSArPSByLCB1ICs9IHQsIGggJiYgKHUgKz0gaCksIG0gJiYgKHUgPSBtKHUsIHMpKSwgdSkgOiAhMTtcbiAgfWZ1bmN0aW9uIGgoYSwgZCwgZiwgZywgaCwgaSwgaiwgaywgbCwgbSwgbiwgbykge1xuICAgIHZhciBwLFxuICAgICAgICBxID0gXCJcIjtyZXR1cm4gbiAmJiAobyA9IG4obykpLCBvICYmIFwic3RyaW5nXCIgPT0gdHlwZW9mIG8gPyAoayAmJiBiKG8sIGspICYmIChvID0gby5yZXBsYWNlKGssIFwiXCIpLCBwID0gITApLCBnICYmIGIobywgZykgJiYgKG8gPSBvLnJlcGxhY2UoZywgXCJcIikpLCBsICYmIGIobywgbCkgJiYgKG8gPSBvLnJlcGxhY2UobCwgXCJcIiksIHAgPSAhMCksIGggJiYgYyhvLCBoKSAmJiAobyA9IG8uc2xpY2UoMCwgLTEgKiBoLmxlbmd0aCkpLCBkICYmIChvID0gby5zcGxpdChkKS5qb2luKFwiXCIpKSwgZiAmJiAobyA9IG8ucmVwbGFjZShmLCBcIi5cIikpLCBwICYmIChxICs9IFwiLVwiKSwgcSArPSBvLCBxID0gcS5yZXBsYWNlKC9bXjAtOVxcLlxcLS5dL2csIFwiXCIpLCBcIlwiID09PSBxID8gITEgOiAocSA9IE51bWJlcihxKSwgaiAmJiAocSA9IGoocSkpLCBlKHEpID8gcSA6ICExKSkgOiAhMTtcbiAgfWZ1bmN0aW9uIGkoYSkge1xuICAgIHZhciBiLFxuICAgICAgICBjLFxuICAgICAgICBlLFxuICAgICAgICBmID0ge307Zm9yIChiID0gMDsgYiA8IGwubGVuZ3RoOyBiICs9IDEpIGlmIChjID0gbFtiXSwgZSA9IGFbY10sIHZvaWQgMCA9PT0gZSkgZltjXSA9IFwibmVnYXRpdmVcIiAhPT0gYyB8fCBmLm5lZ2F0aXZlQmVmb3JlID8gXCJtYXJrXCIgPT09IGMgJiYgXCIuXCIgIT09IGYudGhvdXNhbmQgPyBcIi5cIiA6ICExIDogXCItXCI7ZWxzZSBpZiAoXCJkZWNpbWFsc1wiID09PSBjKSB7XG4gICAgICBpZiAoIShlID49IDAgJiYgOCA+IGUpKSB0aHJvdyBuZXcgRXJyb3IoYyk7ZltjXSA9IGU7XG4gICAgfSBlbHNlIGlmIChcImVuY29kZXJcIiA9PT0gYyB8fCBcImRlY29kZXJcIiA9PT0gYyB8fCBcImVkaXRcIiA9PT0gYyB8fCBcInVuZG9cIiA9PT0gYykge1xuICAgICAgaWYgKFwiZnVuY3Rpb25cIiAhPSB0eXBlb2YgZSkgdGhyb3cgbmV3IEVycm9yKGMpO2ZbY10gPSBlO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoXCJzdHJpbmdcIiAhPSB0eXBlb2YgZSkgdGhyb3cgbmV3IEVycm9yKGMpO2ZbY10gPSBlO1xuICAgIH1yZXR1cm4gZChmLCBcIm1hcmtcIiwgXCJ0aG91c2FuZFwiKSwgZChmLCBcInByZWZpeFwiLCBcIm5lZ2F0aXZlXCIpLCBkKGYsIFwicHJlZml4XCIsIFwibmVnYXRpdmVCZWZvcmVcIiksIGY7XG4gIH1mdW5jdGlvbiBqKGEsIGIsIGMpIHtcbiAgICB2YXIgZCxcbiAgICAgICAgZSA9IFtdO2ZvciAoZCA9IDA7IGQgPCBsLmxlbmd0aDsgZCArPSAxKSBlLnB1c2goYVtsW2RdXSk7cmV0dXJuIGUucHVzaChjKSwgYi5hcHBseShcIlwiLCBlKTtcbiAgfWZ1bmN0aW9uIGsoYSkge1xuICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgayA/IHZvaWQgKFwib2JqZWN0XCIgPT0gdHlwZW9mIGEgJiYgKGEgPSBpKGEpLCB0aGlzLnRvID0gZnVuY3Rpb24gKGIpIHtcbiAgICAgIHJldHVybiBqKGEsIGcsIGIpO1xuICAgIH0sIHRoaXMuZnJvbSA9IGZ1bmN0aW9uIChiKSB7XG4gICAgICByZXR1cm4gaihhLCBoLCBiKTtcbiAgICB9KSkgOiBuZXcgayhhKTtcbiAgfXZhciBsID0gW1wiZGVjaW1hbHNcIiwgXCJ0aG91c2FuZFwiLCBcIm1hcmtcIiwgXCJwcmVmaXhcIiwgXCJwb3N0Zml4XCIsIFwiZW5jb2RlclwiLCBcImRlY29kZXJcIiwgXCJuZWdhdGl2ZUJlZm9yZVwiLCBcIm5lZ2F0aXZlXCIsIFwiZWRpdFwiLCBcInVuZG9cIl07d2luZG93LndOdW1iID0gaztcbn0oKSwgZnVuY3Rpb24gKGEpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIGZ1bmN0aW9uIGIoYikge1xuICAgIHJldHVybiBiIGluc3RhbmNlb2YgYSB8fCBhLnplcHRvICYmIGEuemVwdG8uaXNaKGIpO1xuICB9ZnVuY3Rpb24gYyhiLCBjKSB7XG4gICAgcmV0dXJuIFwic3RyaW5nXCIgPT0gdHlwZW9mIGIgJiYgMCA9PT0gYi5pbmRleE9mKFwiLWlubGluZS1cIikgPyAodGhpcy5tZXRob2QgPSBjIHx8IFwiaHRtbFwiLCB0aGlzLnRhcmdldCA9IHRoaXMuZWwgPSBhKGIucmVwbGFjZShcIi1pbmxpbmUtXCIsIFwiXCIpIHx8IFwiPGRpdi8+XCIpLCAhMCkgOiB2b2lkIDA7XG4gIH1mdW5jdGlvbiBkKGIpIHtcbiAgICBpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YgYiAmJiAwICE9PSBiLmluZGV4T2YoXCItXCIpKSB7XG4gICAgICB0aGlzLm1ldGhvZCA9IFwidmFsXCI7dmFyIGMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7cmV0dXJuIGMubmFtZSA9IGIsIGMudHlwZSA9IFwiaGlkZGVuXCIsIHRoaXMudGFyZ2V0ID0gdGhpcy5lbCA9IGEoYyksICEwO1xuICAgIH1cbiAgfWZ1bmN0aW9uIGUoYSkge1xuICAgIHJldHVybiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGEgPyAodGhpcy50YXJnZXQgPSAhMSwgdGhpcy5tZXRob2QgPSBhLCAhMCkgOiB2b2lkIDA7XG4gIH1mdW5jdGlvbiBmKGEsIGMpIHtcbiAgICByZXR1cm4gYihhKSAmJiAhYyA/IChhLmlzKFwiaW5wdXQsIHNlbGVjdCwgdGV4dGFyZWFcIikgPyAodGhpcy5tZXRob2QgPSBcInZhbFwiLCB0aGlzLnRhcmdldCA9IGEub24oXCJjaGFuZ2UubGlibGlua1wiLCB0aGlzLmNoYW5nZUhhbmRsZXIpKSA6ICh0aGlzLnRhcmdldCA9IGEsIHRoaXMubWV0aG9kID0gXCJodG1sXCIpLCAhMCkgOiB2b2lkIDA7XG4gIH1mdW5jdGlvbiBnKGEsIGMpIHtcbiAgICByZXR1cm4gYihhKSAmJiAoXCJmdW5jdGlvblwiID09IHR5cGVvZiBjIHx8IFwic3RyaW5nXCIgPT0gdHlwZW9mIGMgJiYgYVtjXSkgPyAodGhpcy5tZXRob2QgPSBjLCB0aGlzLnRhcmdldCA9IGEsICEwKSA6IHZvaWQgMDtcbiAgfWZ1bmN0aW9uIGgoYiwgYywgZCkge1xuICAgIHZhciBlID0gdGhpcyxcbiAgICAgICAgZiA9ICExO2lmICh0aGlzLmNoYW5nZUhhbmRsZXIgPSBmdW5jdGlvbiAoYikge1xuICAgICAgdmFyIGMgPSBlLmZvcm1hdEluc3RhbmNlLmZyb20oYSh0aGlzKS52YWwoKSk7cmV0dXJuIGMgPT09ICExIHx8IGlzTmFOKGMpID8gKGEodGhpcykudmFsKGUubGFzdFNldFZhbHVlKSwgITEpIDogdm9pZCBlLmNoYW5nZUhhbmRsZXJNZXRob2QuY2FsbChcIlwiLCBiLCBjKTtcbiAgICB9LCB0aGlzLmVsID0gITEsIHRoaXMuZm9ybWF0SW5zdGFuY2UgPSBkLCBhLmVhY2goaywgZnVuY3Rpb24gKGEsIGQpIHtcbiAgICAgIHJldHVybiBmID0gZC5jYWxsKGUsIGIsIGMpLCAhZjtcbiAgICB9KSwgIWYpIHRocm93IG5ldyBSYW5nZUVycm9yKFwiKExpbmspIEludmFsaWQgTGluay5cIik7XG4gIH1mdW5jdGlvbiBpKGEpIHtcbiAgICB0aGlzLml0ZW1zID0gW10sIHRoaXMuZWxlbWVudHMgPSBbXSwgdGhpcy5vcmlnaW4gPSBhO1xuICB9ZnVuY3Rpb24gaihiLCBjLCBkLCBlKSB7XG4gICAgMCA9PT0gYiAmJiAoYiA9IHRoaXMuTGlua0RlZmF1bHRGbGFnKSwgdGhpcy5saW5rQVBJIHx8ICh0aGlzLmxpbmtBUEkgPSB7fSksIHRoaXMubGlua0FQSVtiXSB8fCAodGhpcy5saW5rQVBJW2JdID0gbmV3IGkodGhpcykpO3ZhciBmID0gbmV3IGgoYywgZCwgZSB8fCB0aGlzLkxpbmtEZWZhdWx0Rm9ybWF0dGVyKTtmLnRhcmdldCB8fCAoZi50YXJnZXQgPSBhKHRoaXMpKSwgZi5jaGFuZ2VIYW5kbGVyTWV0aG9kID0gdGhpcy5MaW5rQ29uZmlybShiLCBmLmVsKSwgdGhpcy5saW5rQVBJW2JdLnB1c2goZiwgZi5lbCksIHRoaXMuTGlua1VwZGF0ZShiKTtcbiAgfXZhciBrID0gW2MsIGQsIGUsIGYsIGddO2gucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIChhKSB7XG4gICAgdmFyIGIgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpLFxuICAgICAgICBjID0gYi5zbGljZSgxKTt0aGlzLmxhc3RTZXRWYWx1ZSA9IHRoaXMuZm9ybWF0SW5zdGFuY2UudG8oYSksIGMudW5zaGlmdCh0aGlzLmxhc3RTZXRWYWx1ZSksIChcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIHRoaXMubWV0aG9kID8gdGhpcy5tZXRob2QgOiB0aGlzLnRhcmdldFt0aGlzLm1ldGhvZF0pLmFwcGx5KHRoaXMudGFyZ2V0LCBjKTtcbiAgfSwgaS5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgdGhpcy5pdGVtcy5wdXNoKGEpLCBiICYmIHRoaXMuZWxlbWVudHMucHVzaChiKTtcbiAgfSwgaS5wcm90b3R5cGUucmVjb25maXJtID0gZnVuY3Rpb24gKGEpIHtcbiAgICB2YXIgYjtmb3IgKGIgPSAwOyBiIDwgdGhpcy5lbGVtZW50cy5sZW5ndGg7IGIgKz0gMSkgdGhpcy5vcmlnaW4uTGlua0NvbmZpcm0oYSwgdGhpcy5lbGVtZW50c1tiXSk7XG4gIH0sIGkucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYTtmb3IgKGEgPSAwOyBhIDwgdGhpcy5pdGVtcy5sZW5ndGg7IGEgKz0gMSkgdGhpcy5pdGVtc1thXS50YXJnZXQub2ZmKFwiLmxpYmxpbmtcIik7Zm9yIChhID0gMDsgYSA8IHRoaXMuZWxlbWVudHMubGVuZ3RoOyBhICs9IDEpIHRoaXMuZWxlbWVudHNbYV0ucmVtb3ZlKCk7XG4gIH0sIGkucHJvdG90eXBlLmNoYW5nZSA9IGZ1bmN0aW9uIChhKSB7XG4gICAgaWYgKHRoaXMub3JpZ2luLkxpbmtJc0VtaXR0aW5nKSByZXR1cm4gITE7dGhpcy5vcmlnaW4uTGlua0lzRW1pdHRpbmcgPSAhMDt2YXIgYixcbiAgICAgICAgYyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7Zm9yIChjLnVuc2hpZnQoYSksIGIgPSAwOyBiIDwgdGhpcy5pdGVtcy5sZW5ndGg7IGIgKz0gMSkgdGhpcy5pdGVtc1tiXS5zZXQuYXBwbHkodGhpcy5pdGVtc1tiXSwgYyk7dGhpcy5vcmlnaW4uTGlua0lzRW1pdHRpbmcgPSAhMTtcbiAgfSwgYS5mbi5MaW5rID0gZnVuY3Rpb24gKGIpIHtcbiAgICB2YXIgYyA9IHRoaXM7aWYgKGIgPT09ICExKSByZXR1cm4gYy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMubGlua0FQSSAmJiAoYS5tYXAodGhpcy5saW5rQVBJLCBmdW5jdGlvbiAoYSkge1xuICAgICAgICBhLnJlbW92ZSgpO1xuICAgICAgfSksIGRlbGV0ZSB0aGlzLmxpbmtBUEkpO1xuICAgIH0pO2lmICh2b2lkIDAgPT09IGIpIGIgPSAwO2Vsc2UgaWYgKFwic3RyaW5nXCIgIT0gdHlwZW9mIGIpIHRocm93IG5ldyBFcnJvcihcIkZsYWcgbXVzdCBiZSBzdHJpbmcuXCIpO3JldHVybiB7IHRvOiBmdW5jdGlvbiAoYSwgZCwgZSkge1xuICAgICAgICByZXR1cm4gYy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBqLmNhbGwodGhpcywgYiwgYSwgZCwgZSk7XG4gICAgICAgIH0pO1xuICAgICAgfSB9O1xuICB9O1xufSh3aW5kb3cualF1ZXJ5IHx8IHdpbmRvdy5aZXB0byksIGZ1bmN0aW9uIChhKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICBmdW5jdGlvbiBiKGIpIHtcbiAgICByZXR1cm4gYS5ncmVwKGIsIGZ1bmN0aW9uIChjLCBkKSB7XG4gICAgICByZXR1cm4gZCA9PT0gYS5pbkFycmF5KGMsIGIpO1xuICAgIH0pO1xuICB9ZnVuY3Rpb24gYyhhLCBiKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQoYSAvIGIpICogYjtcbiAgfWZ1bmN0aW9uIGQoYSkge1xuICAgIHJldHVybiBcIm51bWJlclwiID09IHR5cGVvZiBhICYmICFpc05hTihhKSAmJiBpc0Zpbml0ZShhKTtcbiAgfWZ1bmN0aW9uIGUoYSkge1xuICAgIHZhciBiID0gTWF0aC5wb3coMTAsIDcpO3JldHVybiBOdW1iZXIoKE1hdGgucm91bmQoYSAqIGIpIC8gYikudG9GaXhlZCg3KSk7XG4gIH1mdW5jdGlvbiBmKGEsIGIsIGMpIHtcbiAgICBhLmFkZENsYXNzKGIpLCBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGEucmVtb3ZlQ2xhc3MoYik7XG4gICAgfSwgYyk7XG4gIH1mdW5jdGlvbiBnKGEpIHtcbiAgICByZXR1cm4gTWF0aC5tYXgoTWF0aC5taW4oYSwgMTAwKSwgMCk7XG4gIH1mdW5jdGlvbiBoKGIpIHtcbiAgICByZXR1cm4gYS5pc0FycmF5KGIpID8gYiA6IFtiXTtcbiAgfWZ1bmN0aW9uIGkoYSkge1xuICAgIHZhciBiID0gYS5zcGxpdChcIi5cIik7cmV0dXJuIGIubGVuZ3RoID4gMSA/IGJbMV0ubGVuZ3RoIDogMDtcbiAgfWZ1bmN0aW9uIGooYSwgYikge1xuICAgIHJldHVybiAxMDAgLyAoYiAtIGEpO1xuICB9ZnVuY3Rpb24gayhhLCBiKSB7XG4gICAgcmV0dXJuIDEwMCAqIGIgLyAoYVsxXSAtIGFbMF0pO1xuICB9ZnVuY3Rpb24gbChhLCBiKSB7XG4gICAgcmV0dXJuIGsoYSwgYVswXSA8IDAgPyBiICsgTWF0aC5hYnMoYVswXSkgOiBiIC0gYVswXSk7XG4gIH1mdW5jdGlvbiBtKGEsIGIpIHtcbiAgICByZXR1cm4gYiAqIChhWzFdIC0gYVswXSkgLyAxMDAgKyBhWzBdO1xuICB9ZnVuY3Rpb24gbihhLCBiKSB7XG4gICAgZm9yICh2YXIgYyA9IDE7IGEgPj0gYltjXTspIGMgKz0gMTtyZXR1cm4gYztcbiAgfWZ1bmN0aW9uIG8oYSwgYiwgYykge1xuICAgIGlmIChjID49IGEuc2xpY2UoLTEpWzBdKSByZXR1cm4gMTAwO3ZhciBkLFxuICAgICAgICBlLFxuICAgICAgICBmLFxuICAgICAgICBnLFxuICAgICAgICBoID0gbihjLCBhKTtyZXR1cm4gZCA9IGFbaCAtIDFdLCBlID0gYVtoXSwgZiA9IGJbaCAtIDFdLCBnID0gYltoXSwgZiArIGwoW2QsIGVdLCBjKSAvIGooZiwgZyk7XG4gIH1mdW5jdGlvbiBwKGEsIGIsIGMpIHtcbiAgICBpZiAoYyA+PSAxMDApIHJldHVybiBhLnNsaWNlKC0xKVswXTt2YXIgZCxcbiAgICAgICAgZSxcbiAgICAgICAgZixcbiAgICAgICAgZyxcbiAgICAgICAgaCA9IG4oYywgYik7cmV0dXJuIGQgPSBhW2ggLSAxXSwgZSA9IGFbaF0sIGYgPSBiW2ggLSAxXSwgZyA9IGJbaF0sIG0oW2QsIGVdLCAoYyAtIGYpICogaihmLCBnKSk7XG4gIH1mdW5jdGlvbiBxKGEsIGIsIGQsIGUpIHtcbiAgICBpZiAoMTAwID09PSBlKSByZXR1cm4gZTt2YXIgZixcbiAgICAgICAgZyxcbiAgICAgICAgaCA9IG4oZSwgYSk7cmV0dXJuIGQgPyAoZiA9IGFbaCAtIDFdLCBnID0gYVtoXSwgZSAtIGYgPiAoZyAtIGYpIC8gMiA/IGcgOiBmKSA6IGJbaCAtIDFdID8gYVtoIC0gMV0gKyBjKGUgLSBhW2ggLSAxXSwgYltoIC0gMV0pIDogZTtcbiAgfWZ1bmN0aW9uIHIoYSwgYiwgYykge1xuICAgIHZhciBlO2lmIChcIm51bWJlclwiID09IHR5cGVvZiBiICYmIChiID0gW2JdKSwgXCJbb2JqZWN0IEFycmF5XVwiICE9PSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYikpIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXI6ICdyYW5nZScgY29udGFpbnMgaW52YWxpZCB2YWx1ZS5cIik7aWYgKGUgPSBcIm1pblwiID09PSBhID8gMCA6IFwibWF4XCIgPT09IGEgPyAxMDAgOiBwYXJzZUZsb2F0KGEpLCAhZChlKSB8fCAhZChiWzBdKSkgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlcjogJ3JhbmdlJyB2YWx1ZSBpc24ndCBudW1lcmljLlwiKTtjLnhQY3QucHVzaChlKSwgYy54VmFsLnB1c2goYlswXSksIGUgPyBjLnhTdGVwcy5wdXNoKGlzTmFOKGJbMV0pID8gITEgOiBiWzFdKSA6IGlzTmFOKGJbMV0pIHx8IChjLnhTdGVwc1swXSA9IGJbMV0pO1xuICB9ZnVuY3Rpb24gcyhhLCBiLCBjKSB7XG4gICAgcmV0dXJuIGIgPyB2b2lkIChjLnhTdGVwc1thXSA9IGsoW2MueFZhbFthXSwgYy54VmFsW2EgKyAxXV0sIGIpIC8gaihjLnhQY3RbYV0sIGMueFBjdFthICsgMV0pKSA6ICEwO1xuICB9ZnVuY3Rpb24gdChhLCBiLCBjLCBkKSB7XG4gICAgdGhpcy54UGN0ID0gW10sIHRoaXMueFZhbCA9IFtdLCB0aGlzLnhTdGVwcyA9IFtkIHx8ICExXSwgdGhpcy54TnVtU3RlcHMgPSBbITFdLCB0aGlzLnNuYXAgPSBiLCB0aGlzLmRpcmVjdGlvbiA9IGM7dmFyIGUsXG4gICAgICAgIGYgPSBbXTtmb3IgKGUgaW4gYSkgYS5oYXNPd25Qcm9wZXJ0eShlKSAmJiBmLnB1c2goW2FbZV0sIGVdKTtmb3IgKGYuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgcmV0dXJuIGFbMF0gLSBiWzBdO1xuICAgIH0pLCBlID0gMDsgZSA8IGYubGVuZ3RoOyBlKyspIHIoZltlXVsxXSwgZltlXVswXSwgdGhpcyk7Zm9yICh0aGlzLnhOdW1TdGVwcyA9IHRoaXMueFN0ZXBzLnNsaWNlKDApLCBlID0gMDsgZSA8IHRoaXMueE51bVN0ZXBzLmxlbmd0aDsgZSsrKSBzKGUsIHRoaXMueE51bVN0ZXBzW2VdLCB0aGlzKTtcbiAgfWZ1bmN0aW9uIHUoYSwgYikge1xuICAgIGlmICghZChiKSkgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlcjogJ3N0ZXAnIGlzIG5vdCBudW1lcmljLlwiKTthLnNpbmdsZVN0ZXAgPSBiO1xuICB9ZnVuY3Rpb24gdihiLCBjKSB7XG4gICAgaWYgKFwib2JqZWN0XCIgIT0gdHlwZW9mIGMgfHwgYS5pc0FycmF5KGMpKSB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyOiAncmFuZ2UnIGlzIG5vdCBhbiBvYmplY3QuXCIpO2lmICh2b2lkIDAgPT09IGMubWluIHx8IHZvaWQgMCA9PT0gYy5tYXgpIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXI6IE1pc3NpbmcgJ21pbicgb3IgJ21heCcgaW4gJ3JhbmdlJy5cIik7Yi5zcGVjdHJ1bSA9IG5ldyB0KGMsIGIuc25hcCwgYi5kaXIsIGIuc2luZ2xlU3RlcCk7XG4gIH1mdW5jdGlvbiB3KGIsIGMpIHtcbiAgICBpZiAoYyA9IGgoYyksICFhLmlzQXJyYXkoYykgfHwgIWMubGVuZ3RoIHx8IGMubGVuZ3RoID4gMikgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlcjogJ3N0YXJ0JyBvcHRpb24gaXMgaW5jb3JyZWN0LlwiKTtiLmhhbmRsZXMgPSBjLmxlbmd0aCwgYi5zdGFydCA9IGM7XG4gIH1mdW5jdGlvbiB4KGEsIGIpIHtcbiAgICBpZiAoYS5zbmFwID0gYiwgXCJib29sZWFuXCIgIT0gdHlwZW9mIGIpIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXI6ICdzbmFwJyBvcHRpb24gbXVzdCBiZSBhIGJvb2xlYW4uXCIpO1xuICB9ZnVuY3Rpb24geShhLCBiKSB7XG4gICAgaWYgKGEuYW5pbWF0ZSA9IGIsIFwiYm9vbGVhblwiICE9IHR5cGVvZiBiKSB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyOiAnYW5pbWF0ZScgb3B0aW9uIG11c3QgYmUgYSBib29sZWFuLlwiKTtcbiAgfWZ1bmN0aW9uIHooYSwgYikge1xuICAgIGlmIChcImxvd2VyXCIgPT09IGIgJiYgMSA9PT0gYS5oYW5kbGVzKSBhLmNvbm5lY3QgPSAxO2Vsc2UgaWYgKFwidXBwZXJcIiA9PT0gYiAmJiAxID09PSBhLmhhbmRsZXMpIGEuY29ubmVjdCA9IDI7ZWxzZSBpZiAoYiA9PT0gITAgJiYgMiA9PT0gYS5oYW5kbGVzKSBhLmNvbm5lY3QgPSAzO2Vsc2Uge1xuICAgICAgaWYgKGIgIT09ICExKSB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyOiAnY29ubmVjdCcgb3B0aW9uIGRvZXNuJ3QgbWF0Y2ggaGFuZGxlIGNvdW50LlwiKTthLmNvbm5lY3QgPSAwO1xuICAgIH1cbiAgfWZ1bmN0aW9uIEEoYSwgYikge1xuICAgIHN3aXRjaCAoYikge2Nhc2UgXCJob3Jpem9udGFsXCI6XG4gICAgICAgIGEub3J0ID0gMDticmVhaztjYXNlIFwidmVydGljYWxcIjpcbiAgICAgICAgYS5vcnQgPSAxO2JyZWFrO2RlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXI6ICdvcmllbnRhdGlvbicgb3B0aW9uIGlzIGludmFsaWQuXCIpO31cbiAgfWZ1bmN0aW9uIEIoYSwgYikge1xuICAgIGlmICghZChiKSkgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlcjogJ21hcmdpbicgb3B0aW9uIG11c3QgYmUgbnVtZXJpYy5cIik7aWYgKGEubWFyZ2luID0gYS5zcGVjdHJ1bS5nZXRNYXJnaW4oYiksICFhLm1hcmdpbikgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlcjogJ21hcmdpbicgb3B0aW9uIGlzIG9ubHkgc3VwcG9ydGVkIG9uIGxpbmVhciBzbGlkZXJzLlwiKTtcbiAgfWZ1bmN0aW9uIEMoYSwgYikge1xuICAgIGlmICghZChiKSkgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlcjogJ2xpbWl0JyBvcHRpb24gbXVzdCBiZSBudW1lcmljLlwiKTtpZiAoYS5saW1pdCA9IGEuc3BlY3RydW0uZ2V0TWFyZ2luKGIpLCAhYS5saW1pdCkgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlcjogJ2xpbWl0JyBvcHRpb24gaXMgb25seSBzdXBwb3J0ZWQgb24gbGluZWFyIHNsaWRlcnMuXCIpO1xuICB9ZnVuY3Rpb24gRChhLCBiKSB7XG4gICAgc3dpdGNoIChiKSB7Y2FzZSBcImx0clwiOlxuICAgICAgICBhLmRpciA9IDA7YnJlYWs7Y2FzZSBcInJ0bFwiOlxuICAgICAgICBhLmRpciA9IDEsIGEuY29ubmVjdCA9IFswLCAyLCAxLCAzXVthLmNvbm5lY3RdO2JyZWFrO2RlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXI6ICdkaXJlY3Rpb24nIG9wdGlvbiB3YXMgbm90IHJlY29nbml6ZWQuXCIpO31cbiAgfWZ1bmN0aW9uIEUoYSwgYikge1xuICAgIGlmIChcInN0cmluZ1wiICE9IHR5cGVvZiBiKSB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyOiAnYmVoYXZpb3VyJyBtdXN0IGJlIGEgc3RyaW5nIGNvbnRhaW5pbmcgb3B0aW9ucy5cIik7dmFyIGMgPSBiLmluZGV4T2YoXCJ0YXBcIikgPj0gMCxcbiAgICAgICAgZCA9IGIuaW5kZXhPZihcImRyYWdcIikgPj0gMCxcbiAgICAgICAgZSA9IGIuaW5kZXhPZihcImZpeGVkXCIpID49IDAsXG4gICAgICAgIGYgPSBiLmluZGV4T2YoXCJzbmFwXCIpID49IDA7YS5ldmVudHMgPSB7IHRhcDogYyB8fCBmLCBkcmFnOiBkLCBmaXhlZDogZSwgc25hcDogZiB9O1xuICB9ZnVuY3Rpb24gRihhLCBiKSB7XG4gICAgaWYgKGEuZm9ybWF0ID0gYiwgXCJmdW5jdGlvblwiID09IHR5cGVvZiBiLnRvICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgYi5mcm9tKSByZXR1cm4gITA7dGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlcjogJ2Zvcm1hdCcgcmVxdWlyZXMgJ3RvJyBhbmQgJ2Zyb20nIG1ldGhvZHMuXCIpO1xuICB9ZnVuY3Rpb24gRyhiKSB7XG4gICAgdmFyIGMsXG4gICAgICAgIGQgPSB7IG1hcmdpbjogMCwgbGltaXQ6IDAsIGFuaW1hdGU6ICEwLCBmb3JtYXQ6IFogfTtyZXR1cm4gYyA9IHsgc3RlcDogeyByOiAhMSwgdDogdSB9LCBzdGFydDogeyByOiAhMCwgdDogdyB9LCBjb25uZWN0OiB7IHI6ICEwLCB0OiB6IH0sIGRpcmVjdGlvbjogeyByOiAhMCwgdDogRCB9LCBzbmFwOiB7IHI6ICExLCB0OiB4IH0sIGFuaW1hdGU6IHsgcjogITEsIHQ6IHkgfSwgcmFuZ2U6IHsgcjogITAsIHQ6IHYgfSwgb3JpZW50YXRpb246IHsgcjogITEsIHQ6IEEgfSwgbWFyZ2luOiB7IHI6ICExLCB0OiBCIH0sIGxpbWl0OiB7IHI6ICExLCB0OiBDIH0sIGJlaGF2aW91cjogeyByOiAhMCwgdDogRSB9LCBmb3JtYXQ6IHsgcjogITEsIHQ6IEYgfSB9LCBiID0gYS5leHRlbmQoeyBjb25uZWN0OiAhMSwgZGlyZWN0aW9uOiBcImx0clwiLCBiZWhhdmlvdXI6IFwidGFwXCIsIG9yaWVudGF0aW9uOiBcImhvcml6b250YWxcIiB9LCBiKSwgYS5lYWNoKGMsIGZ1bmN0aW9uIChhLCBjKSB7XG4gICAgICBpZiAodm9pZCAwID09PSBiW2FdKSB7XG4gICAgICAgIGlmIChjLnIpIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXI6ICdcIiArIGEgKyBcIicgaXMgcmVxdWlyZWQuXCIpO3JldHVybiAhMDtcbiAgICAgIH1jLnQoZCwgYlthXSk7XG4gICAgfSksIGQuc3R5bGUgPSBkLm9ydCA/IFwidG9wXCIgOiBcImxlZnRcIiwgZDtcbiAgfWZ1bmN0aW9uIEgoYSwgYiwgYykge1xuICAgIHZhciBkID0gYSArIGJbMF0sXG4gICAgICAgIGUgPSBhICsgYlsxXTtyZXR1cm4gYyA/ICgwID4gZCAmJiAoZSArPSBNYXRoLmFicyhkKSksIGUgPiAxMDAgJiYgKGQgLT0gZSAtIDEwMCksIFtnKGQpLCBnKGUpXSkgOiBbZCwgZV07XG4gIH1mdW5jdGlvbiBJKGEpIHtcbiAgICBhLnByZXZlbnREZWZhdWx0KCk7dmFyIGIsXG4gICAgICAgIGMsXG4gICAgICAgIGQgPSAwID09PSBhLnR5cGUuaW5kZXhPZihcInRvdWNoXCIpLFxuICAgICAgICBlID0gMCA9PT0gYS50eXBlLmluZGV4T2YoXCJtb3VzZVwiKSxcbiAgICAgICAgZiA9IDAgPT09IGEudHlwZS5pbmRleE9mKFwicG9pbnRlclwiKSxcbiAgICAgICAgZyA9IGE7cmV0dXJuIDAgPT09IGEudHlwZS5pbmRleE9mKFwiTVNQb2ludGVyXCIpICYmIChmID0gITApLCBhLm9yaWdpbmFsRXZlbnQgJiYgKGEgPSBhLm9yaWdpbmFsRXZlbnQpLCBkICYmIChiID0gYS5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWCwgYyA9IGEuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVkpLCAoZSB8fCBmKSAmJiAoZiB8fCB2b2lkIDAgIT09IHdpbmRvdy5wYWdlWE9mZnNldCB8fCAod2luZG93LnBhZ2VYT2Zmc2V0ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQsIHdpbmRvdy5wYWdlWU9mZnNldCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3ApLCBiID0gYS5jbGllbnRYICsgd2luZG93LnBhZ2VYT2Zmc2V0LCBjID0gYS5jbGllbnRZICsgd2luZG93LnBhZ2VZT2Zmc2V0KSwgZy5wb2ludHMgPSBbYiwgY10sIGcuY3Vyc29yID0gZSwgZztcbiAgfWZ1bmN0aW9uIEooYiwgYykge1xuICAgIHZhciBkID0gYShcIjxkaXY+PGRpdi8+PC9kaXY+XCIpLmFkZENsYXNzKFlbMl0pLFxuICAgICAgICBlID0gW1wiLWxvd2VyXCIsIFwiLXVwcGVyXCJdO3JldHVybiBiICYmIGUucmV2ZXJzZSgpLCBkLmNoaWxkcmVuKCkuYWRkQ2xhc3MoWVszXSArIFwiIFwiICsgWVszXSArIGVbY10pLCBkO1xuICB9ZnVuY3Rpb24gSyhhLCBiLCBjKSB7XG4gICAgc3dpdGNoIChhKSB7Y2FzZSAxOlxuICAgICAgICBiLmFkZENsYXNzKFlbN10pLCBjWzBdLmFkZENsYXNzKFlbNl0pO2JyZWFrO2Nhc2UgMzpcbiAgICAgICAgY1sxXS5hZGRDbGFzcyhZWzZdKTtjYXNlIDI6XG4gICAgICAgIGNbMF0uYWRkQ2xhc3MoWVs3XSk7Y2FzZSAwOlxuICAgICAgICBiLmFkZENsYXNzKFlbNl0pO31cbiAgfWZ1bmN0aW9uIEwoYSwgYiwgYykge1xuICAgIHZhciBkLFxuICAgICAgICBlID0gW107Zm9yIChkID0gMDsgYSA+IGQ7IGQgKz0gMSkgZS5wdXNoKEooYiwgZCkuYXBwZW5kVG8oYykpO3JldHVybiBlO1xuICB9ZnVuY3Rpb24gTShiLCBjLCBkKSB7XG4gICAgcmV0dXJuIGQuYWRkQ2xhc3MoW1lbMF0sIFlbOCArIGJdLCBZWzQgKyBjXV0uam9pbihcIiBcIikpLCBhKFwiPGRpdi8+XCIpLmFwcGVuZFRvKGQpLmFkZENsYXNzKFlbMV0pO1xuICB9ZnVuY3Rpb24gTihiLCBjLCBkKSB7XG4gICAgZnVuY3Rpb24gZSgpIHtcbiAgICAgIHJldHVybiBDW1tcIndpZHRoXCIsIFwiaGVpZ2h0XCJdW2Mub3J0XV0oKTtcbiAgICB9ZnVuY3Rpb24gaihhKSB7XG4gICAgICB2YXIgYixcbiAgICAgICAgICBjID0gW0UudmFsKCldO2ZvciAoYiA9IDA7IGIgPCBhLmxlbmd0aDsgYiArPSAxKSBFLnRyaWdnZXIoYVtiXSwgYyk7XG4gICAgfWZ1bmN0aW9uIGsoYSkge1xuICAgICAgcmV0dXJuIDEgPT09IGEubGVuZ3RoID8gYVswXSA6IGMuZGlyID8gYS5yZXZlcnNlKCkgOiBhO1xuICAgIH1mdW5jdGlvbiBsKGEpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoYiwgYykge1xuICAgICAgICBFLnZhbChbYSA/IG51bGwgOiBjLCBhID8gYyA6IG51bGxdLCAhMCk7XG4gICAgICB9O1xuICAgIH1mdW5jdGlvbiBtKGIpIHtcbiAgICAgIHZhciBjID0gYS5pbkFycmF5KGIsIE4pO0VbMF0ubGlua0FQSSAmJiBFWzBdLmxpbmtBUElbYl0gJiYgRVswXS5saW5rQVBJW2JdLmNoYW5nZShKW2NdLCBEW2NdLmNoaWxkcmVuKCksIEUpO1xuICAgIH1mdW5jdGlvbiBuKGIsIGQpIHtcbiAgICAgIHZhciBlID0gYS5pbkFycmF5KGIsIE4pO3JldHVybiBkICYmIGQuYXBwZW5kVG8oRFtlXS5jaGlsZHJlbigpKSwgYy5kaXIgJiYgYy5oYW5kbGVzID4gMSAmJiAoZSA9IDEgPT09IGUgPyAwIDogMSksIGwoZSk7XG4gICAgfWZ1bmN0aW9uIG8oKSB7XG4gICAgICB2YXIgYSwgYjtmb3IgKGEgPSAwOyBhIDwgTi5sZW5ndGg7IGEgKz0gMSkgdGhpcy5saW5rQVBJICYmIHRoaXMubGlua0FQSVtiID0gTlthXV0gJiYgdGhpcy5saW5rQVBJW2JdLnJlY29uZmlybShiKTtcbiAgICB9ZnVuY3Rpb24gcChhLCBiLCBkLCBlKSB7XG4gICAgICByZXR1cm4gYSA9IGEucmVwbGFjZSgvXFxzL2csIFcgKyBcIiBcIikgKyBXLCBiLm9uKGEsIGZ1bmN0aW9uIChhKSB7XG4gICAgICAgIHJldHVybiBFLmF0dHIoXCJkaXNhYmxlZFwiKSA/ICExIDogRS5oYXNDbGFzcyhZWzE0XSkgPyAhMSA6IChhID0gSShhKSwgYS5jYWxjUG9pbnQgPSBhLnBvaW50c1tjLm9ydF0sIHZvaWQgZChhLCBlKSk7XG4gICAgICB9KTtcbiAgICB9ZnVuY3Rpb24gcShhLCBiKSB7XG4gICAgICB2YXIgYyxcbiAgICAgICAgICBkID0gYi5oYW5kbGVzIHx8IEQsXG4gICAgICAgICAgZiA9ICExLFxuICAgICAgICAgIGcgPSAxMDAgKiAoYS5jYWxjUG9pbnQgLSBiLnN0YXJ0KSAvIGUoKSxcbiAgICAgICAgICBoID0gZFswXVswXSAhPT0gRFswXVswXSA/IDEgOiAwO2MgPSBIKGcsIGIucG9zaXRpb25zLCBkLmxlbmd0aCA+IDEpLCBmID0gdihkWzBdLCBjW2hdLCAxID09PSBkLmxlbmd0aCksIGQubGVuZ3RoID4gMSAmJiAoZiA9IHYoZFsxXSwgY1toID8gMCA6IDFdLCAhMSkgfHwgZiksIGYgJiYgaihbXCJzbGlkZVwiXSk7XG4gICAgfWZ1bmN0aW9uIHIoYikge1xuICAgICAgYShcIi5cIiArIFlbMTVdKS5yZW1vdmVDbGFzcyhZWzE1XSksIGIuY3Vyc29yICYmIGEoXCJib2R5XCIpLmNzcyhcImN1cnNvclwiLCBcIlwiKS5vZmYoVyksIFUub2ZmKFcpLCBFLnJlbW92ZUNsYXNzKFlbMTJdKSwgaihbXCJzZXRcIiwgXCJjaGFuZ2VcIl0pO1xuICAgIH1mdW5jdGlvbiBzKGIsIGMpIHtcbiAgICAgIDEgPT09IGMuaGFuZGxlcy5sZW5ndGggJiYgYy5oYW5kbGVzWzBdLmNoaWxkcmVuKCkuYWRkQ2xhc3MoWVsxNV0pLCBiLnN0b3BQcm9wYWdhdGlvbigpLCBwKFgubW92ZSwgVSwgcSwgeyBzdGFydDogYi5jYWxjUG9pbnQsIGhhbmRsZXM6IGMuaGFuZGxlcywgcG9zaXRpb25zOiBbRlswXSwgRltELmxlbmd0aCAtIDFdXSB9KSwgcChYLmVuZCwgVSwgciwgbnVsbCksIGIuY3Vyc29yICYmIChhKFwiYm9keVwiKS5jc3MoXCJjdXJzb3JcIiwgYShiLnRhcmdldCkuY3NzKFwiY3Vyc29yXCIpKSwgRC5sZW5ndGggPiAxICYmIEUuYWRkQ2xhc3MoWVsxMl0pLCBhKFwiYm9keVwiKS5vbihcInNlbGVjdHN0YXJ0XCIgKyBXLCAhMSkpO1xuICAgIH1mdW5jdGlvbiB0KGIpIHtcbiAgICAgIHZhciBkLFxuICAgICAgICAgIGcgPSBiLmNhbGNQb2ludCxcbiAgICAgICAgICBoID0gMDtiLnN0b3BQcm9wYWdhdGlvbigpLCBhLmVhY2goRCwgZnVuY3Rpb24gKCkge1xuICAgICAgICBoICs9IHRoaXMub2Zmc2V0KClbYy5zdHlsZV07XG4gICAgICB9KSwgaCA9IGggLyAyID4gZyB8fCAxID09PSBELmxlbmd0aCA/IDAgOiAxLCBnIC09IEMub2Zmc2V0KClbYy5zdHlsZV0sIGQgPSAxMDAgKiBnIC8gZSgpLCBjLmV2ZW50cy5zbmFwIHx8IGYoRSwgWVsxNF0sIDMwMCksIHYoRFtoXSwgZCksIGooW1wic2xpZGVcIiwgXCJzZXRcIiwgXCJjaGFuZ2VcIl0pLCBjLmV2ZW50cy5zbmFwICYmIHMoYiwgeyBoYW5kbGVzOiBbRFtoXV0gfSk7XG4gICAgfWZ1bmN0aW9uIHUoYSkge1xuICAgICAgdmFyIGIsIGM7aWYgKCFhLmZpeGVkKSBmb3IgKGIgPSAwOyBiIDwgRC5sZW5ndGg7IGIgKz0gMSkgcChYLnN0YXJ0LCBEW2JdLmNoaWxkcmVuKCksIHMsIHsgaGFuZGxlczogW0RbYl1dIH0pO2EudGFwICYmIHAoWC5zdGFydCwgQywgdCwgeyBoYW5kbGVzOiBEIH0pLCBhLmRyYWcgJiYgKGMgPSBDLmZpbmQoXCIuXCIgKyBZWzddKS5hZGRDbGFzcyhZWzEwXSksIGEuZml4ZWQgJiYgKGMgPSBjLmFkZChDLmNoaWxkcmVuKCkubm90KGMpLmNoaWxkcmVuKCkpKSwgcChYLnN0YXJ0LCBjLCBzLCB7IGhhbmRsZXM6IEQgfSkpO1xuICAgIH1mdW5jdGlvbiB2KGEsIGIsIGQpIHtcbiAgICAgIHZhciBlID0gYVswXSAhPT0gRFswXVswXSA/IDEgOiAwLFxuICAgICAgICAgIGYgPSBGWzBdICsgYy5tYXJnaW4sXG4gICAgICAgICAgaCA9IEZbMV0gLSBjLm1hcmdpbixcbiAgICAgICAgICBpID0gRlswXSArIGMubGltaXQsXG4gICAgICAgICAgaiA9IEZbMV0gLSBjLmxpbWl0O3JldHVybiBELmxlbmd0aCA+IDEgJiYgKGIgPSBlID8gTWF0aC5tYXgoYiwgZikgOiBNYXRoLm1pbihiLCBoKSksIGQgIT09ICExICYmIGMubGltaXQgJiYgRC5sZW5ndGggPiAxICYmIChiID0gZSA/IE1hdGgubWluKGIsIGkpIDogTWF0aC5tYXgoYiwgaikpLCBiID0gRy5nZXRTdGVwKGIpLCBiID0gZyhwYXJzZUZsb2F0KGIudG9GaXhlZCg3KSkpLCBiID09PSBGW2VdID8gITEgOiAoYS5jc3MoYy5zdHlsZSwgYiArIFwiJVwiKSwgYS5pcyhcIjpmaXJzdC1jaGlsZFwiKSAmJiBhLnRvZ2dsZUNsYXNzKFlbMTddLCBiID4gNTApLCBGW2VdID0gYiwgSltlXSA9IEcuZnJvbVN0ZXBwaW5nKGIpLCBtKE5bZV0pLCAhMCk7XG4gICAgfWZ1bmN0aW9uIHcoYSwgYikge1xuICAgICAgdmFyIGQsIGUsIGY7Zm9yIChjLmxpbWl0ICYmIChhICs9IDEpLCBkID0gMDsgYSA+IGQ7IGQgKz0gMSkgZSA9IGQgJSAyLCBmID0gYltlXSwgbnVsbCAhPT0gZiAmJiBmICE9PSAhMSAmJiAoXCJudW1iZXJcIiA9PSB0eXBlb2YgZiAmJiAoZiA9IFN0cmluZyhmKSksIGYgPSBjLmZvcm1hdC5mcm9tKGYpLCAoZiA9PT0gITEgfHwgaXNOYU4oZikgfHwgdihEW2VdLCBHLnRvU3RlcHBpbmcoZiksIGQgPT09IDMgLSBjLmRpcikgPT09ICExKSAmJiBtKE5bZV0pKTtcbiAgICB9ZnVuY3Rpb24geChhKSB7XG4gICAgICBpZiAoRVswXS5MaW5rSXNFbWl0dGluZykgcmV0dXJuIHRoaXM7dmFyIGIsXG4gICAgICAgICAgZCA9IGgoYSk7cmV0dXJuIGMuZGlyICYmIGMuaGFuZGxlcyA+IDEgJiYgZC5yZXZlcnNlKCksIGMuYW5pbWF0ZSAmJiAtMSAhPT0gRlswXSAmJiBmKEUsIFlbMTRdLCAzMDApLCBiID0gRC5sZW5ndGggPiAxID8gMyA6IDEsIDEgPT09IGQubGVuZ3RoICYmIChiID0gMSksIHcoYiwgZCksIGooW1wic2V0XCJdKSwgdGhpcztcbiAgICB9ZnVuY3Rpb24geSgpIHtcbiAgICAgIHZhciBhLFxuICAgICAgICAgIGIgPSBbXTtmb3IgKGEgPSAwOyBhIDwgYy5oYW5kbGVzOyBhICs9IDEpIGJbYV0gPSBjLmZvcm1hdC50byhKW2FdKTtyZXR1cm4gayhiKTtcbiAgICB9ZnVuY3Rpb24geigpIHtcbiAgICAgIHJldHVybiBhKHRoaXMpLm9mZihXKS5yZW1vdmVDbGFzcyhZLmpvaW4oXCIgXCIpKS5lbXB0eSgpLCBkZWxldGUgdGhpcy5MaW5rVXBkYXRlLCBkZWxldGUgdGhpcy5MaW5rQ29uZmlybSwgZGVsZXRlIHRoaXMuTGlua0RlZmF1bHRGb3JtYXR0ZXIsIGRlbGV0ZSB0aGlzLkxpbmtEZWZhdWx0RmxhZywgZGVsZXRlIHRoaXMucmVhcHBlbmQsIGRlbGV0ZSB0aGlzLnZHZXQsIGRlbGV0ZSB0aGlzLnZTZXQsIGRlbGV0ZSB0aGlzLmdldEN1cnJlbnRTdGVwLCBkZWxldGUgdGhpcy5nZXRJbmZvLCBkZWxldGUgdGhpcy5kZXN0cm95LCBkO1xuICAgIH1mdW5jdGlvbiBBKCkge1xuICAgICAgdmFyIGIgPSBhLm1hcChGLCBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICB2YXIgYyA9IEcuZ2V0QXBwbGljYWJsZVN0ZXAoYSksXG4gICAgICAgICAgICBkID0gaShTdHJpbmcoY1syXSkpLFxuICAgICAgICAgICAgZSA9IEpbYl0sXG4gICAgICAgICAgICBmID0gMTAwID09PSBhID8gbnVsbCA6IGNbMl0sXG4gICAgICAgICAgICBnID0gTnVtYmVyKChlIC0gY1syXSkudG9GaXhlZChkKSksXG4gICAgICAgICAgICBoID0gMCA9PT0gYSA/IG51bGwgOiBnID49IGNbMV0gPyBjWzJdIDogY1swXSB8fCAhMTtyZXR1cm4gW1toLCBmXV07XG4gICAgICB9KTtyZXR1cm4gayhiKTtcbiAgICB9ZnVuY3Rpb24gQigpIHtcbiAgICAgIHJldHVybiBkO1xuICAgIH12YXIgQyxcbiAgICAgICAgRCxcbiAgICAgICAgRSA9IGEoYiksXG4gICAgICAgIEYgPSBbLTEsIC0xXSxcbiAgICAgICAgRyA9IGMuc3BlY3RydW0sXG4gICAgICAgIEogPSBbXSxcbiAgICAgICAgTiA9IFtcImxvd2VyXCIsIFwidXBwZXJcIl0uc2xpY2UoMCwgYy5oYW5kbGVzKTtpZiAoYy5kaXIgJiYgTi5yZXZlcnNlKCksIGIuTGlua1VwZGF0ZSA9IG0sIGIuTGlua0NvbmZpcm0gPSBuLCBiLkxpbmtEZWZhdWx0Rm9ybWF0dGVyID0gYy5mb3JtYXQsIGIuTGlua0RlZmF1bHRGbGFnID0gXCJsb3dlclwiLCBiLnJlYXBwZW5kID0gbywgRS5oYXNDbGFzcyhZWzBdKSkgdGhyb3cgbmV3IEVycm9yKFwiU2xpZGVyIHdhcyBhbHJlYWR5IGluaXRpYWxpemVkLlwiKTtDID0gTShjLmRpciwgYy5vcnQsIEUpLCBEID0gTChjLmhhbmRsZXMsIGMuZGlyLCBDKSwgSyhjLmNvbm5lY3QsIEUsIEQpLCB1KGMuZXZlbnRzKSwgYi52U2V0ID0geCwgYi52R2V0ID0geSwgYi5kZXN0cm95ID0geiwgYi5nZXRDdXJyZW50U3RlcCA9IEEsIGIuZ2V0T3JpZ2luYWxPcHRpb25zID0gQiwgYi5nZXRJbmZvID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIFtHLCBjLnN0eWxlLCBjLm9ydF07XG4gICAgfSwgRS52YWwoYy5zdGFydCk7XG4gIH1mdW5jdGlvbiBPKGEpIHtcbiAgICB2YXIgYiA9IEcoYSwgdGhpcyk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICBOKHRoaXMsIGIsIGEpO1xuICAgIH0pO1xuICB9ZnVuY3Rpb24gUChiKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIXRoaXMuZGVzdHJveSkgcmV0dXJuIHZvaWQgYSh0aGlzKS5ub1VpU2xpZGVyKGIpO3ZhciBjID0gYSh0aGlzKS52YWwoKSxcbiAgICAgICAgICBkID0gdGhpcy5kZXN0cm95KCksXG4gICAgICAgICAgZSA9IGEuZXh0ZW5kKHt9LCBkLCBiKTthKHRoaXMpLm5vVWlTbGlkZXIoZSksIHRoaXMucmVhcHBlbmQoKSwgZC5zdGFydCA9PT0gZS5zdGFydCAmJiBhKHRoaXMpLnZhbChjKTtcbiAgICB9KTtcbiAgfWZ1bmN0aW9uIFEoKSB7XG4gICAgcmV0dXJuIHRoaXNbMF1bYXJndW1lbnRzLmxlbmd0aCA/IFwidlNldFwiIDogXCJ2R2V0XCJdLmFwcGx5KHRoaXNbMF0sIGFyZ3VtZW50cyk7XG4gIH1mdW5jdGlvbiBSKGIsIGMsIGQsIGUpIHtcbiAgICBpZiAoXCJyYW5nZVwiID09PSBjIHx8IFwic3RlcHNcIiA9PT0gYykgcmV0dXJuIGIueFZhbDtpZiAoXCJjb3VudFwiID09PSBjKSB7XG4gICAgICB2YXIgZixcbiAgICAgICAgICBnID0gMTAwIC8gKGQgLSAxKSxcbiAgICAgICAgICBoID0gMDtmb3IgKGQgPSBbXTsgKGYgPSBoKysgKiBnKSA8PSAxMDA7KSBkLnB1c2goZik7YyA9IFwicG9zaXRpb25zXCI7XG4gICAgfXJldHVybiBcInBvc2l0aW9uc1wiID09PSBjID8gYS5tYXAoZCwgZnVuY3Rpb24gKGEpIHtcbiAgICAgIHJldHVybiBiLmZyb21TdGVwcGluZyhlID8gYi5nZXRTdGVwKGEpIDogYSk7XG4gICAgfSkgOiBcInZhbHVlc1wiID09PSBjID8gZSA/IGEubWFwKGQsIGZ1bmN0aW9uIChhKSB7XG4gICAgICByZXR1cm4gYi5mcm9tU3RlcHBpbmcoYi5nZXRTdGVwKGIudG9TdGVwcGluZyhhKSkpO1xuICAgIH0pIDogZCA6IHZvaWQgMDtcbiAgfWZ1bmN0aW9uIFMoYywgZCwgZSwgZikge1xuICAgIHZhciBnID0gYy5kaXJlY3Rpb24sXG4gICAgICAgIGggPSB7fSxcbiAgICAgICAgaSA9IGMueFZhbFswXSxcbiAgICAgICAgaiA9IGMueFZhbFtjLnhWYWwubGVuZ3RoIC0gMV0sXG4gICAgICAgIGsgPSAhMSxcbiAgICAgICAgbCA9ICExLFxuICAgICAgICBtID0gMDtyZXR1cm4gYy5kaXJlY3Rpb24gPSAwLCBmID0gYihmLnNsaWNlKCkuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgcmV0dXJuIGEgLSBiO1xuICAgIH0pKSwgZlswXSAhPT0gaSAmJiAoZi51bnNoaWZ0KGkpLCBrID0gITApLCBmW2YubGVuZ3RoIC0gMV0gIT09IGogJiYgKGYucHVzaChqKSwgbCA9ICEwKSwgYS5lYWNoKGYsIGZ1bmN0aW9uIChiKSB7XG4gICAgICB2YXIgZyxcbiAgICAgICAgICBpLFxuICAgICAgICAgIGosXG4gICAgICAgICAgbixcbiAgICAgICAgICBvLFxuICAgICAgICAgIHAsXG4gICAgICAgICAgcSxcbiAgICAgICAgICByLFxuICAgICAgICAgIHMsXG4gICAgICAgICAgdCxcbiAgICAgICAgICB1ID0gZltiXSxcbiAgICAgICAgICB2ID0gZltiICsgMV07aWYgKFwic3RlcHNcIiA9PT0gZSAmJiAoZyA9IGMueE51bVN0ZXBzW2JdKSwgZyB8fCAoZyA9IHYgLSB1KSwgdSAhPT0gITEgJiYgdm9pZCAwICE9PSB2KSBmb3IgKGkgPSB1OyB2ID49IGk7IGkgKz0gZykge1xuICAgICAgICBmb3IgKG4gPSBjLnRvU3RlcHBpbmcoaSksIG8gPSBuIC0gbSwgciA9IG8gLyBkLCBzID0gTWF0aC5yb3VuZChyKSwgdCA9IG8gLyBzLCBqID0gMTsgcyA+PSBqOyBqICs9IDEpIHAgPSBtICsgaiAqIHQsIGhbcC50b0ZpeGVkKDUpXSA9IFtcInhcIiwgMF07cSA9IGEuaW5BcnJheShpLCBmKSA+IC0xID8gMSA6IFwic3RlcHNcIiA9PT0gZSA/IDIgOiAwLCAhYiAmJiBrICYmIChxID0gMCksIGkgPT09IHYgJiYgbCB8fCAoaFtuLnRvRml4ZWQoNSldID0gW2ksIHFdKSwgbSA9IG47XG4gICAgICB9XG4gICAgfSksIGMuZGlyZWN0aW9uID0gZywgaDtcbiAgfWZ1bmN0aW9uIFQoYiwgYywgZCwgZSwgZiwgZykge1xuICAgIGZ1bmN0aW9uIGgoYSkge1xuICAgICAgcmV0dXJuIFtcIi1ub3JtYWxcIiwgXCItbGFyZ2VcIiwgXCItc3ViXCJdW2FdO1xuICAgIH1mdW5jdGlvbiBpKGEsIGMsIGQpIHtcbiAgICAgIHJldHVybiAnY2xhc3M9XCInICsgYyArIFwiIFwiICsgYyArIFwiLVwiICsgayArIFwiIFwiICsgYyArIGgoZFsxXSwgZFswXSkgKyAnXCIgc3R5bGU9XCInICsgYiArIFwiOiBcIiArIGEgKyAnJVwiJztcbiAgICB9ZnVuY3Rpb24gaihhLCBiKSB7XG4gICAgICBkICYmIChhID0gMTAwIC0gYSksIGJbMV0gPSBiWzFdICYmIGYgPyBmKGJbMF0sIGJbMV0pIDogYlsxXSwgbC5hcHBlbmQoXCI8ZGl2IFwiICsgaShhLCBcIm5vVWktbWFya2VyXCIsIGIpICsgXCI+PC9kaXY+XCIpLCBiWzFdICYmIGwuYXBwZW5kKFwiPGRpdiBcIiArIGkoYSwgXCJub1VpLXZhbHVlXCIsIGIpICsgXCI+XCIgKyBnLnRvKGJbMF0pICsgXCI8L2Rpdj5cIik7XG4gICAgfXZhciBrID0gW1wiaG9yaXpvbnRhbFwiLCBcInZlcnRpY2FsXCJdW2NdLFxuICAgICAgICBsID0gYShcIjxkaXYvPlwiKTtyZXR1cm4gbC5hZGRDbGFzcyhcIm5vVWktcGlwcyBub1VpLXBpcHMtXCIgKyBrKSwgYS5lYWNoKGUsIGopLCBsO1xuICB9dmFyIFUgPSBhKGRvY3VtZW50KSxcbiAgICAgIFYgPSBhLmZuLnZhbCxcbiAgICAgIFcgPSBcIi5udWlcIixcbiAgICAgIFggPSB3aW5kb3cubmF2aWdhdG9yLnBvaW50ZXJFbmFibGVkID8geyBzdGFydDogXCJwb2ludGVyZG93blwiLCBtb3ZlOiBcInBvaW50ZXJtb3ZlXCIsIGVuZDogXCJwb2ludGVydXBcIiB9IDogd2luZG93Lm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkID8geyBzdGFydDogXCJNU1BvaW50ZXJEb3duXCIsIG1vdmU6IFwiTVNQb2ludGVyTW92ZVwiLCBlbmQ6IFwiTVNQb2ludGVyVXBcIiB9IDogeyBzdGFydDogXCJtb3VzZWRvd24gdG91Y2hzdGFydFwiLCBtb3ZlOiBcIm1vdXNlbW92ZSB0b3VjaG1vdmVcIiwgZW5kOiBcIm1vdXNldXAgdG91Y2hlbmRcIiB9LFxuICAgICAgWSA9IFtcIm5vVWktdGFyZ2V0XCIsIFwibm9VaS1iYXNlXCIsIFwibm9VaS1vcmlnaW5cIiwgXCJub1VpLWhhbmRsZVwiLCBcIm5vVWktaG9yaXpvbnRhbFwiLCBcIm5vVWktdmVydGljYWxcIiwgXCJub1VpLWJhY2tncm91bmRcIiwgXCJub1VpLWNvbm5lY3RcIiwgXCJub1VpLWx0clwiLCBcIm5vVWktcnRsXCIsIFwibm9VaS1kcmFnYWJsZVwiLCBcIlwiLCBcIm5vVWktc3RhdGUtZHJhZ1wiLCBcIlwiLCBcIm5vVWktc3RhdGUtdGFwXCIsIFwibm9VaS1hY3RpdmVcIiwgXCJcIiwgXCJub1VpLXN0YWNraW5nXCJdO3QucHJvdG90eXBlLmdldE1hcmdpbiA9IGZ1bmN0aW9uIChhKSB7XG4gICAgcmV0dXJuIDIgPT09IHRoaXMueFBjdC5sZW5ndGggPyBrKHRoaXMueFZhbCwgYSkgOiAhMTtcbiAgfSwgdC5wcm90b3R5cGUudG9TdGVwcGluZyA9IGZ1bmN0aW9uIChhKSB7XG4gICAgcmV0dXJuIGEgPSBvKHRoaXMueFZhbCwgdGhpcy54UGN0LCBhKSwgdGhpcy5kaXJlY3Rpb24gJiYgKGEgPSAxMDAgLSBhKSwgYTtcbiAgfSwgdC5wcm90b3R5cGUuZnJvbVN0ZXBwaW5nID0gZnVuY3Rpb24gKGEpIHtcbiAgICByZXR1cm4gdGhpcy5kaXJlY3Rpb24gJiYgKGEgPSAxMDAgLSBhKSwgZShwKHRoaXMueFZhbCwgdGhpcy54UGN0LCBhKSk7XG4gIH0sIHQucHJvdG90eXBlLmdldFN0ZXAgPSBmdW5jdGlvbiAoYSkge1xuICAgIHJldHVybiB0aGlzLmRpcmVjdGlvbiAmJiAoYSA9IDEwMCAtIGEpLCBhID0gcSh0aGlzLnhQY3QsIHRoaXMueFN0ZXBzLCB0aGlzLnNuYXAsIGEpLCB0aGlzLmRpcmVjdGlvbiAmJiAoYSA9IDEwMCAtIGEpLCBhO1xuICB9LCB0LnByb3RvdHlwZS5nZXRBcHBsaWNhYmxlU3RlcCA9IGZ1bmN0aW9uIChhKSB7XG4gICAgdmFyIGIgPSBuKGEsIHRoaXMueFBjdCksXG4gICAgICAgIGMgPSAxMDAgPT09IGEgPyAyIDogMTtyZXR1cm4gW3RoaXMueE51bVN0ZXBzW2IgLSAyXSwgdGhpcy54VmFsW2IgLSBjXSwgdGhpcy54TnVtU3RlcHNbYiAtIGNdXTtcbiAgfSwgdC5wcm90b3R5cGUuY29udmVydCA9IGZ1bmN0aW9uIChhKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0U3RlcCh0aGlzLnRvU3RlcHBpbmcoYSkpO1xuICB9O3ZhciBaID0geyB0bzogZnVuY3Rpb24gKGEpIHtcbiAgICAgIHJldHVybiBhLnRvRml4ZWQoMik7XG4gICAgfSwgZnJvbTogTnVtYmVyIH07YS5mbi52YWwgPSBmdW5jdGlvbiAoYikge1xuICAgIGZ1bmN0aW9uIGMoYSkge1xuICAgICAgcmV0dXJuIGEuaGFzQ2xhc3MoWVswXSkgPyBRIDogVjtcbiAgICB9aWYgKCFhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICB2YXIgZCA9IGEodGhpc1swXSk7cmV0dXJuIGMoZCkuY2FsbChkKTtcbiAgICB9dmFyIGUgPSBhLmlzRnVuY3Rpb24oYik7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoZCkge1xuICAgICAgdmFyIGYgPSBiLFxuICAgICAgICAgIGcgPSBhKHRoaXMpO2UgJiYgKGYgPSBiLmNhbGwodGhpcywgZCwgZy52YWwoKSkpLCBjKGcpLmNhbGwoZywgZik7XG4gICAgfSk7XG4gIH0sIGEuZm4ubm9VaVNsaWRlciA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgc3dpdGNoIChhKSB7Y2FzZSBcInN0ZXBcIjpcbiAgICAgICAgcmV0dXJuIHRoaXNbMF0uZ2V0Q3VycmVudFN0ZXAoKTtjYXNlIFwib3B0aW9uc1wiOlxuICAgICAgICByZXR1cm4gdGhpc1swXS5nZXRPcmlnaW5hbE9wdGlvbnMoKTt9cmV0dXJuIChiID8gUCA6IE8pLmNhbGwodGhpcywgYSk7XG4gIH0sIGEuZm4ubm9VaVNsaWRlcl9waXBzID0gZnVuY3Rpb24gKGIpIHtcbiAgICB2YXIgYyA9IGIubW9kZSxcbiAgICAgICAgZCA9IGIuZGVuc2l0eSB8fCAxLFxuICAgICAgICBlID0gYi5maWx0ZXIgfHwgITEsXG4gICAgICAgIGYgPSBiLnZhbHVlcyB8fCAhMSxcbiAgICAgICAgZyA9IGIuZm9ybWF0IHx8IHsgdG86IE1hdGgucm91bmQgfSxcbiAgICAgICAgaCA9IGIuc3RlcHBlZCB8fCAhMTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBiID0gdGhpcy5nZXRJbmZvKCksXG4gICAgICAgICAgaSA9IFIoYlswXSwgYywgZiwgaCksXG4gICAgICAgICAgaiA9IFMoYlswXSwgZCwgYywgaSk7cmV0dXJuIGEodGhpcykuYXBwZW5kKFQoYlsxXSwgYlsyXSwgYlswXS5kaXJlY3Rpb24sIGosIGUsIGcpKTtcbiAgICB9KTtcbiAgfTtcbn0od2luZG93LmpRdWVyeSB8fCB3aW5kb3cuWmVwdG8pO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9ub3Vpc2xpZGVyL2Rpc3RyaWJ1dGUvanF1ZXJ5Lm5vdWlzbGlkZXIuYWxsLm1pbi5qc1xuLy8gbW9kdWxlIGlkID0gMTI0XG4vLyBtb2R1bGUgY2h1bmtzID0gMTQiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9');
}});
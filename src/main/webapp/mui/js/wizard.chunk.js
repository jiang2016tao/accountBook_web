webpackJsonp([9],{95:function(module,exports){eval("/*!\n * jQuery twitter bootstrap wizard plugin\n * Examples and documentation at: http://github.com/VinceG/twitter-bootstrap-wizard\n * version 1.0\n * Requires jQuery v1.3.2 or later\n * Supports Bootstrap 2.2.x, 2.3.x, 3.0\n * Dual licensed under the MIT and GPL licenses:\n * http://www.opensource.org/licenses/mit-license.php\n * http://www.gnu.org/licenses/gpl.html\n * Authors: Vadim Vincent Gabriel (http://vadimg.com), Jason Gill (www.gilluminate.com)\n */\n;(function ($) {\n\tvar bootstrapWizardCreate = function (element, options) {\n\t\tvar element = $(element);\n\t\tvar obj = this;\n\n\t\t// selector skips any 'li' elements that do not contain a child with a tab data-toggle\n\t\tvar baseItemSelector = 'li:has([data-toggle=\"tab\"])';\n\t\tvar historyStack = [];\n\n\t\t// Merge options with defaults\n\t\tvar $settings = $.extend({}, $.fn.bootstrapWizard.defaults, options);\n\t\tvar $activeTab = null;\n\t\tvar $navigation = null;\n\n\t\tthis.rebindClick = function (selector, fn) {\n\t\t\tselector.unbind('click', fn).bind('click', fn);\n\t\t};\n\n\t\tthis.fixNavigationButtons = function () {\n\t\t\t// Get the current active tab\n\t\t\tif (!$activeTab.length) {\n\t\t\t\t// Select first one\n\t\t\t\t$navigation.find('a:first').tab('show');\n\t\t\t\t$activeTab = $navigation.find(baseItemSelector + ':first');\n\t\t\t}\n\n\t\t\t// See if we're currently in the first/last then disable the previous and last buttons\n\t\t\t$($settings.previousSelector, element).toggleClass('disabled', obj.firstIndex() >= obj.currentIndex());\n\t\t\t$($settings.nextSelector, element).toggleClass('disabled', obj.currentIndex() >= obj.navigationLength());\n\t\t\t$($settings.nextSelector, element).toggleClass('hidden', obj.currentIndex() >= obj.navigationLength() && $($settings.finishSelector, element).length > 0);\n\t\t\t$($settings.lastSelector, element).toggleClass('hidden', obj.currentIndex() >= obj.navigationLength() && $($settings.finishSelector, element).length > 0);\n\t\t\t$($settings.finishSelector, element).toggleClass('hidden', obj.currentIndex() < obj.navigationLength());\n\t\t\t$($settings.backSelector, element).toggleClass('disabled', historyStack.length == 0);\n\t\t\t$($settings.backSelector, element).toggleClass('hidden', obj.currentIndex() >= obj.navigationLength() && $($settings.finishSelector, element).length > 0);\n\n\t\t\t// We are unbinding and rebinding to ensure single firing and no double-click errors\n\t\t\tobj.rebindClick($($settings.nextSelector, element), obj.next);\n\t\t\tobj.rebindClick($($settings.previousSelector, element), obj.previous);\n\t\t\tobj.rebindClick($($settings.lastSelector, element), obj.last);\n\t\t\tobj.rebindClick($($settings.firstSelector, element), obj.first);\n\t\t\tobj.rebindClick($($settings.finishSelector, element), obj.finish);\n\t\t\tobj.rebindClick($($settings.backSelector, element), obj.back);\n\n\t\t\tif ($settings.onTabShow && typeof $settings.onTabShow === 'function' && $settings.onTabShow($activeTab, $navigation, obj.currentIndex()) === false) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t};\n\n\t\tthis.next = function (e) {\n\t\t\t// If we clicked the last then dont activate this\n\t\t\tif (element.hasClass('last')) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif ($settings.onNext && typeof $settings.onNext === 'function' && $settings.onNext($activeTab, $navigation, obj.nextIndex()) === false) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tvar formerIndex = obj.currentIndex();\n\t\t\tvar $index = obj.nextIndex();\n\n\t\t\t// Did we click the last button\n\t\t\tif ($index > obj.navigationLength()) {} else {\n\t\t\t\thistoryStack.push(formerIndex);\n\t\t\t\t$navigation.find(baseItemSelector + ':eq(' + $index + ') a').tab('show');\n\t\t\t}\n\t\t};\n\n\t\tthis.previous = function (e) {\n\t\t\t// If we clicked the first then dont activate this\n\t\t\tif (element.hasClass('first')) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif ($settings.onPrevious && typeof $settings.onPrevious === 'function' && $settings.onPrevious($activeTab, $navigation, obj.previousIndex()) === false) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tvar formerIndex = obj.currentIndex();\n\t\t\tvar $index = obj.previousIndex();\n\n\t\t\tif ($index < 0) {} else {\n\t\t\t\thistoryStack.push(formerIndex);\n\t\t\t\t$navigation.find(baseItemSelector + ':eq(' + $index + ') a').tab('show');\n\t\t\t}\n\t\t};\n\n\t\tthis.first = function (e) {\n\t\t\tif ($settings.onFirst && typeof $settings.onFirst === 'function' && $settings.onFirst($activeTab, $navigation, obj.firstIndex()) === false) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// If the element is disabled then we won't do anything\n\t\t\tif (element.hasClass('disabled')) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\thistoryStack.push(obj.currentIndex());\n\t\t\t$navigation.find(baseItemSelector + ':eq(0) a').tab('show');\n\t\t};\n\n\t\tthis.last = function (e) {\n\t\t\tif ($settings.onLast && typeof $settings.onLast === 'function' && $settings.onLast($activeTab, $navigation, obj.lastIndex()) === false) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// If the element is disabled then we won't do anything\n\t\t\tif (element.hasClass('disabled')) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\thistoryStack.push(obj.currentIndex());\n\t\t\t$navigation.find(baseItemSelector + ':eq(' + obj.navigationLength() + ') a').tab('show');\n\t\t};\n\n\t\tthis.finish = function (e) {\n\t\t\tif ($settings.onFinish && typeof $settings.onFinish === 'function') {\n\t\t\t\t$settings.onFinish($activeTab, $navigation, obj.lastIndex());\n\t\t\t}\n\t\t};\n\n\t\tthis.back = function () {\n\t\t\tif (historyStack.length == 0) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tvar formerIndex = historyStack.pop();\n\t\t\tif ($settings.onBack && typeof $settings.onBack === 'function' && $settings.onBack($activeTab, $navigation, formerIndex) === false) {\n\t\t\t\thistoryStack.push(formerIndex);\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\telement.find(baseItemSelector + ':eq(' + formerIndex + ') a').tab('show');\n\t\t};\n\n\t\tthis.currentIndex = function () {\n\t\t\treturn $navigation.find(baseItemSelector).index($activeTab);\n\t\t};\n\n\t\tthis.firstIndex = function () {\n\t\t\treturn 0;\n\t\t};\n\n\t\tthis.lastIndex = function () {\n\t\t\treturn obj.navigationLength();\n\t\t};\n\t\tthis.getIndex = function (e) {\n\t\t\treturn $navigation.find(baseItemSelector).index(e);\n\t\t};\n\t\tthis.nextIndex = function () {\n\t\t\treturn $navigation.find(baseItemSelector).index($activeTab) + 1;\n\t\t};\n\t\tthis.previousIndex = function () {\n\t\t\treturn $navigation.find(baseItemSelector).index($activeTab) - 1;\n\t\t};\n\t\tthis.navigationLength = function () {\n\t\t\treturn $navigation.find(baseItemSelector).length - 1;\n\t\t};\n\t\tthis.activeTab = function () {\n\t\t\treturn $activeTab;\n\t\t};\n\t\tthis.nextTab = function () {\n\t\t\treturn $navigation.find(baseItemSelector + ':eq(' + (obj.currentIndex() + 1) + ')').length ? $navigation.find(baseItemSelector + ':eq(' + (obj.currentIndex() + 1) + ')') : null;\n\t\t};\n\t\tthis.previousTab = function () {\n\t\t\tif (obj.currentIndex() <= 0) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\treturn $navigation.find(baseItemSelector + ':eq(' + parseInt(obj.currentIndex() - 1) + ')');\n\t\t};\n\t\tthis.show = function (index) {\n\t\t\tvar tabToShow = isNaN(index) ? element.find(baseItemSelector + ' a[href=#' + index + ']') : element.find(baseItemSelector + ':eq(' + index + ') a');\n\t\t\tif (tabToShow.length > 0) {\n\t\t\t\thistoryStack.push(obj.currentIndex());\n\t\t\t\ttabToShow.tab('show');\n\t\t\t}\n\t\t};\n\t\tthis.disable = function (index) {\n\t\t\t$navigation.find(baseItemSelector + ':eq(' + index + ')').addClass('disabled');\n\t\t};\n\t\tthis.enable = function (index) {\n\t\t\t$navigation.find(baseItemSelector + ':eq(' + index + ')').removeClass('disabled');\n\t\t};\n\t\tthis.hide = function (index) {\n\t\t\t$navigation.find(baseItemSelector + ':eq(' + index + ')').hide();\n\t\t};\n\t\tthis.display = function (index) {\n\t\t\t$navigation.find(baseItemSelector + ':eq(' + index + ')').show();\n\t\t};\n\t\tthis.remove = function (args) {\n\t\t\tvar $index = args[0];\n\t\t\tvar $removeTabPane = typeof args[1] != 'undefined' ? args[1] : false;\n\t\t\tvar $item = $navigation.find(baseItemSelector + ':eq(' + $index + ')');\n\n\t\t\t// Remove the tab pane first if needed\n\t\t\tif ($removeTabPane) {\n\t\t\t\tvar $href = $item.find('a').attr('href');\n\t\t\t\t$($href).remove();\n\t\t\t}\n\n\t\t\t// Remove menu item\n\t\t\t$item.remove();\n\t\t};\n\n\t\tvar innerTabClick = function (e) {\n\t\t\t// Get the index of the clicked tab\n\t\t\tvar $ul = $navigation.find(baseItemSelector);\n\t\t\tvar clickedIndex = $ul.index($(e.currentTarget).parent(baseItemSelector));\n\t\t\tvar $clickedTab = $($ul[clickedIndex]);\n\t\t\tif ($settings.onTabClick && typeof $settings.onTabClick === 'function' && $settings.onTabClick($activeTab, $navigation, obj.currentIndex(), clickedIndex, $clickedTab) === false) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t};\n\n\t\tvar innerTabShown = function (e) {\n\t\t\t// use shown instead of show to help prevent double firing\n\t\t\tvar $element = $(e.target).parent();\n\t\t\tvar nextTab = $navigation.find(baseItemSelector).index($element);\n\n\t\t\t// If it's disabled then do not change\n\t\t\tif ($element.hasClass('disabled')) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif ($settings.onTabChange && typeof $settings.onTabChange === 'function' && $settings.onTabChange($activeTab, $navigation, obj.currentIndex(), nextTab) === false) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t$activeTab = $element; // activated tab\n\t\t\tobj.fixNavigationButtons();\n\t\t};\n\n\t\tthis.resetWizard = function () {\n\n\t\t\t// remove the existing handlers\n\t\t\t$('a[data-toggle=\"tab\"]', $navigation).off('click', innerTabClick);\n\t\t\t$('a[data-toggle=\"tab\"]', $navigation).off('shown shown.bs.tab', innerTabShown);\n\n\t\t\t// reset elements based on current state of the DOM\n\t\t\t$navigation = element.find('ul:first', element);\n\t\t\t$activeTab = $navigation.find(baseItemSelector + '.active', element);\n\n\t\t\t// re-add handlers\n\t\t\t$('a[data-toggle=\"tab\"]', $navigation).on('click', innerTabClick);\n\t\t\t$('a[data-toggle=\"tab\"]', $navigation).on('shown shown.bs.tab', innerTabShown);\n\n\t\t\tobj.fixNavigationButtons();\n\t\t};\n\n\t\t$navigation = element.find('ul:first', element);\n\t\t$activeTab = $navigation.find(baseItemSelector + '.active', element);\n\n\t\tif (!$navigation.hasClass($settings.tabClass)) {\n\t\t\t$navigation.addClass($settings.tabClass);\n\t\t}\n\n\t\t// Load onInit\n\t\tif ($settings.onInit && typeof $settings.onInit === 'function') {\n\t\t\t$settings.onInit($activeTab, $navigation, 0);\n\t\t}\n\n\t\t// Load onShow\n\t\tif ($settings.onShow && typeof $settings.onShow === 'function') {\n\t\t\t$settings.onShow($activeTab, $navigation, obj.nextIndex());\n\t\t}\n\n\t\t$('a[data-toggle=\"tab\"]', $navigation).on('click', innerTabClick);\n\n\t\t// attach to both shown and shown.bs.tab to support Bootstrap versions 2.3.2 and 3.0.0\n\t\t$('a[data-toggle=\"tab\"]', $navigation).on('shown shown.bs.tab', innerTabShown);\n\t};\n\t$.fn.bootstrapWizard = function (options) {\n\t\t//expose methods\n\t\tif (typeof options == 'string') {\n\t\t\tvar args = Array.prototype.slice.call(arguments, 1);\n\t\t\tif (args.length === 1) {\n\t\t\t\targs.toString();\n\t\t\t}\n\t\t\treturn this.data('bootstrapWizard')[options](args);\n\t\t}\n\t\treturn this.each(function (index) {\n\t\t\tvar element = $(this);\n\t\t\t// Return early if this element already has a plugin instance\n\t\t\tif (element.data('bootstrapWizard')) return;\n\t\t\t// pass options to plugin constructor\n\t\t\tvar wizard = new bootstrapWizardCreate(element, options);\n\t\t\t// Store plugin object in this element's data\n\t\t\telement.data('bootstrapWizard', wizard);\n\t\t\t// and then trigger initial change\n\t\t\twizard.fixNavigationButtons();\n\t\t});\n\t};\n\n\t// expose options\n\t$.fn.bootstrapWizard.defaults = {\n\t\ttabClass: 'nav nav-pills',\n\t\tnextSelector: '.wizard li.next',\n\t\tpreviousSelector: '.wizard li.previous',\n\t\tfirstSelector: '.wizard li.first',\n\t\tlastSelector: '.wizard li.last',\n\t\tfinishSelector: '.wizard li.finish',\n\t\tbackSelector: '.wizard li.back',\n\t\tonShow: null,\n\t\tonInit: null,\n\t\tonNext: null,\n\t\tonPrevious: null,\n\t\tonLast: null,\n\t\tonFirst: null,\n\t\tonFinish: null,\n\t\tonBack: null,\n\t\tonTabChange: null,\n\t\tonTabClick: null,\n\t\tonTabShow: null\n\t};\n})(jQuery);//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvY29tcG9uZW50cy9ib290c3RyYXAtd2l6YXJkL2pxdWVyeS5ib290c3RyYXAud2l6YXJkLmpzPzZkNmMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBqUXVlcnkgdHdpdHRlciBib290c3RyYXAgd2l6YXJkIHBsdWdpblxuICogRXhhbXBsZXMgYW5kIGRvY3VtZW50YXRpb24gYXQ6IGh0dHA6Ly9naXRodWIuY29tL1ZpbmNlRy90d2l0dGVyLWJvb3RzdHJhcC13aXphcmRcbiAqIHZlcnNpb24gMS4wXG4gKiBSZXF1aXJlcyBqUXVlcnkgdjEuMy4yIG9yIGxhdGVyXG4gKiBTdXBwb3J0cyBCb290c3RyYXAgMi4yLngsIDIuMy54LCAzLjBcbiAqIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBhbmQgR1BMIGxpY2Vuc2VzOlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiAqIGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy9ncGwuaHRtbFxuICogQXV0aG9yczogVmFkaW0gVmluY2VudCBHYWJyaWVsIChodHRwOi8vdmFkaW1nLmNvbSksIEphc29uIEdpbGwgKHd3dy5naWxsdW1pbmF0ZS5jb20pXG4gKi9cbjsoZnVuY3Rpb24gKCQpIHtcblx0dmFyIGJvb3RzdHJhcFdpemFyZENyZWF0ZSA9IGZ1bmN0aW9uIChlbGVtZW50LCBvcHRpb25zKSB7XG5cdFx0dmFyIGVsZW1lbnQgPSAkKGVsZW1lbnQpO1xuXHRcdHZhciBvYmogPSB0aGlzO1xuXG5cdFx0Ly8gc2VsZWN0b3Igc2tpcHMgYW55ICdsaScgZWxlbWVudHMgdGhhdCBkbyBub3QgY29udGFpbiBhIGNoaWxkIHdpdGggYSB0YWIgZGF0YS10b2dnbGVcblx0XHR2YXIgYmFzZUl0ZW1TZWxlY3RvciA9ICdsaTpoYXMoW2RhdGEtdG9nZ2xlPVwidGFiXCJdKSc7XG5cdFx0dmFyIGhpc3RvcnlTdGFjayA9IFtdO1xuXG5cdFx0Ly8gTWVyZ2Ugb3B0aW9ucyB3aXRoIGRlZmF1bHRzXG5cdFx0dmFyICRzZXR0aW5ncyA9ICQuZXh0ZW5kKHt9LCAkLmZuLmJvb3RzdHJhcFdpemFyZC5kZWZhdWx0cywgb3B0aW9ucyk7XG5cdFx0dmFyICRhY3RpdmVUYWIgPSBudWxsO1xuXHRcdHZhciAkbmF2aWdhdGlvbiA9IG51bGw7XG5cblx0XHR0aGlzLnJlYmluZENsaWNrID0gZnVuY3Rpb24gKHNlbGVjdG9yLCBmbikge1xuXHRcdFx0c2VsZWN0b3IudW5iaW5kKCdjbGljaycsIGZuKS5iaW5kKCdjbGljaycsIGZuKTtcblx0XHR9O1xuXG5cdFx0dGhpcy5maXhOYXZpZ2F0aW9uQnV0dG9ucyA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdC8vIEdldCB0aGUgY3VycmVudCBhY3RpdmUgdGFiXG5cdFx0XHRpZiAoISRhY3RpdmVUYWIubGVuZ3RoKSB7XG5cdFx0XHRcdC8vIFNlbGVjdCBmaXJzdCBvbmVcblx0XHRcdFx0JG5hdmlnYXRpb24uZmluZCgnYTpmaXJzdCcpLnRhYignc2hvdycpO1xuXHRcdFx0XHQkYWN0aXZlVGFiID0gJG5hdmlnYXRpb24uZmluZChiYXNlSXRlbVNlbGVjdG9yICsgJzpmaXJzdCcpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTZWUgaWYgd2UncmUgY3VycmVudGx5IGluIHRoZSBmaXJzdC9sYXN0IHRoZW4gZGlzYWJsZSB0aGUgcHJldmlvdXMgYW5kIGxhc3QgYnV0dG9uc1xuXHRcdFx0JCgkc2V0dGluZ3MucHJldmlvdXNTZWxlY3RvciwgZWxlbWVudCkudG9nZ2xlQ2xhc3MoJ2Rpc2FibGVkJywgb2JqLmZpcnN0SW5kZXgoKSA+PSBvYmouY3VycmVudEluZGV4KCkpO1xuXHRcdFx0JCgkc2V0dGluZ3MubmV4dFNlbGVjdG9yLCBlbGVtZW50KS50b2dnbGVDbGFzcygnZGlzYWJsZWQnLCBvYmouY3VycmVudEluZGV4KCkgPj0gb2JqLm5hdmlnYXRpb25MZW5ndGgoKSk7XG5cdFx0XHQkKCRzZXR0aW5ncy5uZXh0U2VsZWN0b3IsIGVsZW1lbnQpLnRvZ2dsZUNsYXNzKCdoaWRkZW4nLCBvYmouY3VycmVudEluZGV4KCkgPj0gb2JqLm5hdmlnYXRpb25MZW5ndGgoKSAmJiAkKCRzZXR0aW5ncy5maW5pc2hTZWxlY3RvciwgZWxlbWVudCkubGVuZ3RoID4gMCk7XG5cdFx0XHQkKCRzZXR0aW5ncy5sYXN0U2VsZWN0b3IsIGVsZW1lbnQpLnRvZ2dsZUNsYXNzKCdoaWRkZW4nLCBvYmouY3VycmVudEluZGV4KCkgPj0gb2JqLm5hdmlnYXRpb25MZW5ndGgoKSAmJiAkKCRzZXR0aW5ncy5maW5pc2hTZWxlY3RvciwgZWxlbWVudCkubGVuZ3RoID4gMCk7XG5cdFx0XHQkKCRzZXR0aW5ncy5maW5pc2hTZWxlY3RvciwgZWxlbWVudCkudG9nZ2xlQ2xhc3MoJ2hpZGRlbicsIG9iai5jdXJyZW50SW5kZXgoKSA8IG9iai5uYXZpZ2F0aW9uTGVuZ3RoKCkpO1xuXHRcdFx0JCgkc2V0dGluZ3MuYmFja1NlbGVjdG9yLCBlbGVtZW50KS50b2dnbGVDbGFzcygnZGlzYWJsZWQnLCBoaXN0b3J5U3RhY2subGVuZ3RoID09IDApO1xuXHRcdFx0JCgkc2V0dGluZ3MuYmFja1NlbGVjdG9yLCBlbGVtZW50KS50b2dnbGVDbGFzcygnaGlkZGVuJywgb2JqLmN1cnJlbnRJbmRleCgpID49IG9iai5uYXZpZ2F0aW9uTGVuZ3RoKCkgJiYgJCgkc2V0dGluZ3MuZmluaXNoU2VsZWN0b3IsIGVsZW1lbnQpLmxlbmd0aCA+IDApO1xuXG5cdFx0XHQvLyBXZSBhcmUgdW5iaW5kaW5nIGFuZCByZWJpbmRpbmcgdG8gZW5zdXJlIHNpbmdsZSBmaXJpbmcgYW5kIG5vIGRvdWJsZS1jbGljayBlcnJvcnNcblx0XHRcdG9iai5yZWJpbmRDbGljaygkKCRzZXR0aW5ncy5uZXh0U2VsZWN0b3IsIGVsZW1lbnQpLCBvYmoubmV4dCk7XG5cdFx0XHRvYmoucmViaW5kQ2xpY2soJCgkc2V0dGluZ3MucHJldmlvdXNTZWxlY3RvciwgZWxlbWVudCksIG9iai5wcmV2aW91cyk7XG5cdFx0XHRvYmoucmViaW5kQ2xpY2soJCgkc2V0dGluZ3MubGFzdFNlbGVjdG9yLCBlbGVtZW50KSwgb2JqLmxhc3QpO1xuXHRcdFx0b2JqLnJlYmluZENsaWNrKCQoJHNldHRpbmdzLmZpcnN0U2VsZWN0b3IsIGVsZW1lbnQpLCBvYmouZmlyc3QpO1xuXHRcdFx0b2JqLnJlYmluZENsaWNrKCQoJHNldHRpbmdzLmZpbmlzaFNlbGVjdG9yLCBlbGVtZW50KSwgb2JqLmZpbmlzaCk7XG5cdFx0XHRvYmoucmViaW5kQ2xpY2soJCgkc2V0dGluZ3MuYmFja1NlbGVjdG9yLCBlbGVtZW50KSwgb2JqLmJhY2spO1xuXG5cdFx0XHRpZiAoJHNldHRpbmdzLm9uVGFiU2hvdyAmJiB0eXBlb2YgJHNldHRpbmdzLm9uVGFiU2hvdyA9PT0gJ2Z1bmN0aW9uJyAmJiAkc2V0dGluZ3Mub25UYWJTaG93KCRhY3RpdmVUYWIsICRuYXZpZ2F0aW9uLCBvYmouY3VycmVudEluZGV4KCkpID09PSBmYWxzZSkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdHRoaXMubmV4dCA9IGZ1bmN0aW9uIChlKSB7XG5cdFx0XHQvLyBJZiB3ZSBjbGlja2VkIHRoZSBsYXN0IHRoZW4gZG9udCBhY3RpdmF0ZSB0aGlzXG5cdFx0XHRpZiAoZWxlbWVudC5oYXNDbGFzcygnbGFzdCcpKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCRzZXR0aW5ncy5vbk5leHQgJiYgdHlwZW9mICRzZXR0aW5ncy5vbk5leHQgPT09ICdmdW5jdGlvbicgJiYgJHNldHRpbmdzLm9uTmV4dCgkYWN0aXZlVGFiLCAkbmF2aWdhdGlvbiwgb2JqLm5leHRJbmRleCgpKSA9PT0gZmFsc2UpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgZm9ybWVySW5kZXggPSBvYmouY3VycmVudEluZGV4KCk7XG5cdFx0XHR2YXIgJGluZGV4ID0gb2JqLm5leHRJbmRleCgpO1xuXG5cdFx0XHQvLyBEaWQgd2UgY2xpY2sgdGhlIGxhc3QgYnV0dG9uXG5cdFx0XHRpZiAoJGluZGV4ID4gb2JqLm5hdmlnYXRpb25MZW5ndGgoKSkge30gZWxzZSB7XG5cdFx0XHRcdGhpc3RvcnlTdGFjay5wdXNoKGZvcm1lckluZGV4KTtcblx0XHRcdFx0JG5hdmlnYXRpb24uZmluZChiYXNlSXRlbVNlbGVjdG9yICsgJzplcSgnICsgJGluZGV4ICsgJykgYScpLnRhYignc2hvdycpO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHR0aGlzLnByZXZpb3VzID0gZnVuY3Rpb24gKGUpIHtcblx0XHRcdC8vIElmIHdlIGNsaWNrZWQgdGhlIGZpcnN0IHRoZW4gZG9udCBhY3RpdmF0ZSB0aGlzXG5cdFx0XHRpZiAoZWxlbWVudC5oYXNDbGFzcygnZmlyc3QnKSkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdGlmICgkc2V0dGluZ3Mub25QcmV2aW91cyAmJiB0eXBlb2YgJHNldHRpbmdzLm9uUHJldmlvdXMgPT09ICdmdW5jdGlvbicgJiYgJHNldHRpbmdzLm9uUHJldmlvdXMoJGFjdGl2ZVRhYiwgJG5hdmlnYXRpb24sIG9iai5wcmV2aW91c0luZGV4KCkpID09PSBmYWxzZSkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdHZhciBmb3JtZXJJbmRleCA9IG9iai5jdXJyZW50SW5kZXgoKTtcblx0XHRcdHZhciAkaW5kZXggPSBvYmoucHJldmlvdXNJbmRleCgpO1xuXG5cdFx0XHRpZiAoJGluZGV4IDwgMCkge30gZWxzZSB7XG5cdFx0XHRcdGhpc3RvcnlTdGFjay5wdXNoKGZvcm1lckluZGV4KTtcblx0XHRcdFx0JG5hdmlnYXRpb24uZmluZChiYXNlSXRlbVNlbGVjdG9yICsgJzplcSgnICsgJGluZGV4ICsgJykgYScpLnRhYignc2hvdycpO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHR0aGlzLmZpcnN0ID0gZnVuY3Rpb24gKGUpIHtcblx0XHRcdGlmICgkc2V0dGluZ3Mub25GaXJzdCAmJiB0eXBlb2YgJHNldHRpbmdzLm9uRmlyc3QgPT09ICdmdW5jdGlvbicgJiYgJHNldHRpbmdzLm9uRmlyc3QoJGFjdGl2ZVRhYiwgJG5hdmlnYXRpb24sIG9iai5maXJzdEluZGV4KCkpID09PSBmYWxzZSkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdC8vIElmIHRoZSBlbGVtZW50IGlzIGRpc2FibGVkIHRoZW4gd2Ugd29uJ3QgZG8gYW55dGhpbmdcblx0XHRcdGlmIChlbGVtZW50Lmhhc0NsYXNzKCdkaXNhYmxlZCcpKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0aGlzdG9yeVN0YWNrLnB1c2gob2JqLmN1cnJlbnRJbmRleCgpKTtcblx0XHRcdCRuYXZpZ2F0aW9uLmZpbmQoYmFzZUl0ZW1TZWxlY3RvciArICc6ZXEoMCkgYScpLnRhYignc2hvdycpO1xuXHRcdH07XG5cblx0XHR0aGlzLmxhc3QgPSBmdW5jdGlvbiAoZSkge1xuXHRcdFx0aWYgKCRzZXR0aW5ncy5vbkxhc3QgJiYgdHlwZW9mICRzZXR0aW5ncy5vbkxhc3QgPT09ICdmdW5jdGlvbicgJiYgJHNldHRpbmdzLm9uTGFzdCgkYWN0aXZlVGFiLCAkbmF2aWdhdGlvbiwgb2JqLmxhc3RJbmRleCgpKSA9PT0gZmFsc2UpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZiB0aGUgZWxlbWVudCBpcyBkaXNhYmxlZCB0aGVuIHdlIHdvbid0IGRvIGFueXRoaW5nXG5cdFx0XHRpZiAoZWxlbWVudC5oYXNDbGFzcygnZGlzYWJsZWQnKSkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdGhpc3RvcnlTdGFjay5wdXNoKG9iai5jdXJyZW50SW5kZXgoKSk7XG5cdFx0XHQkbmF2aWdhdGlvbi5maW5kKGJhc2VJdGVtU2VsZWN0b3IgKyAnOmVxKCcgKyBvYmoubmF2aWdhdGlvbkxlbmd0aCgpICsgJykgYScpLnRhYignc2hvdycpO1xuXHRcdH07XG5cblx0XHR0aGlzLmZpbmlzaCA9IGZ1bmN0aW9uIChlKSB7XG5cdFx0XHRpZiAoJHNldHRpbmdzLm9uRmluaXNoICYmIHR5cGVvZiAkc2V0dGluZ3Mub25GaW5pc2ggPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0JHNldHRpbmdzLm9uRmluaXNoKCRhY3RpdmVUYWIsICRuYXZpZ2F0aW9uLCBvYmoubGFzdEluZGV4KCkpO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHR0aGlzLmJhY2sgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRpZiAoaGlzdG9yeVN0YWNrLmxlbmd0aCA9PSAwKSB7XG5cdFx0XHRcdHJldHVybiBudWxsO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgZm9ybWVySW5kZXggPSBoaXN0b3J5U3RhY2sucG9wKCk7XG5cdFx0XHRpZiAoJHNldHRpbmdzLm9uQmFjayAmJiB0eXBlb2YgJHNldHRpbmdzLm9uQmFjayA9PT0gJ2Z1bmN0aW9uJyAmJiAkc2V0dGluZ3Mub25CYWNrKCRhY3RpdmVUYWIsICRuYXZpZ2F0aW9uLCBmb3JtZXJJbmRleCkgPT09IGZhbHNlKSB7XG5cdFx0XHRcdGhpc3RvcnlTdGFjay5wdXNoKGZvcm1lckluZGV4KTtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRlbGVtZW50LmZpbmQoYmFzZUl0ZW1TZWxlY3RvciArICc6ZXEoJyArIGZvcm1lckluZGV4ICsgJykgYScpLnRhYignc2hvdycpO1xuXHRcdH07XG5cblx0XHR0aGlzLmN1cnJlbnRJbmRleCA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiAkbmF2aWdhdGlvbi5maW5kKGJhc2VJdGVtU2VsZWN0b3IpLmluZGV4KCRhY3RpdmVUYWIpO1xuXHRcdH07XG5cblx0XHR0aGlzLmZpcnN0SW5kZXggPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZXR1cm4gMDtcblx0XHR9O1xuXG5cdFx0dGhpcy5sYXN0SW5kZXggPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZXR1cm4gb2JqLm5hdmlnYXRpb25MZW5ndGgoKTtcblx0XHR9O1xuXHRcdHRoaXMuZ2V0SW5kZXggPSBmdW5jdGlvbiAoZSkge1xuXHRcdFx0cmV0dXJuICRuYXZpZ2F0aW9uLmZpbmQoYmFzZUl0ZW1TZWxlY3RvcikuaW5kZXgoZSk7XG5cdFx0fTtcblx0XHR0aGlzLm5leHRJbmRleCA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiAkbmF2aWdhdGlvbi5maW5kKGJhc2VJdGVtU2VsZWN0b3IpLmluZGV4KCRhY3RpdmVUYWIpICsgMTtcblx0XHR9O1xuXHRcdHRoaXMucHJldmlvdXNJbmRleCA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiAkbmF2aWdhdGlvbi5maW5kKGJhc2VJdGVtU2VsZWN0b3IpLmluZGV4KCRhY3RpdmVUYWIpIC0gMTtcblx0XHR9O1xuXHRcdHRoaXMubmF2aWdhdGlvbkxlbmd0aCA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiAkbmF2aWdhdGlvbi5maW5kKGJhc2VJdGVtU2VsZWN0b3IpLmxlbmd0aCAtIDE7XG5cdFx0fTtcblx0XHR0aGlzLmFjdGl2ZVRhYiA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiAkYWN0aXZlVGFiO1xuXHRcdH07XG5cdFx0dGhpcy5uZXh0VGFiID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0cmV0dXJuICRuYXZpZ2F0aW9uLmZpbmQoYmFzZUl0ZW1TZWxlY3RvciArICc6ZXEoJyArIChvYmouY3VycmVudEluZGV4KCkgKyAxKSArICcpJykubGVuZ3RoID8gJG5hdmlnYXRpb24uZmluZChiYXNlSXRlbVNlbGVjdG9yICsgJzplcSgnICsgKG9iai5jdXJyZW50SW5kZXgoKSArIDEpICsgJyknKSA6IG51bGw7XG5cdFx0fTtcblx0XHR0aGlzLnByZXZpb3VzVGFiID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0aWYgKG9iai5jdXJyZW50SW5kZXgoKSA8PSAwKSB7XG5cdFx0XHRcdHJldHVybiBudWxsO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuICRuYXZpZ2F0aW9uLmZpbmQoYmFzZUl0ZW1TZWxlY3RvciArICc6ZXEoJyArIHBhcnNlSW50KG9iai5jdXJyZW50SW5kZXgoKSAtIDEpICsgJyknKTtcblx0XHR9O1xuXHRcdHRoaXMuc2hvdyA9IGZ1bmN0aW9uIChpbmRleCkge1xuXHRcdFx0dmFyIHRhYlRvU2hvdyA9IGlzTmFOKGluZGV4KSA/IGVsZW1lbnQuZmluZChiYXNlSXRlbVNlbGVjdG9yICsgJyBhW2hyZWY9IycgKyBpbmRleCArICddJykgOiBlbGVtZW50LmZpbmQoYmFzZUl0ZW1TZWxlY3RvciArICc6ZXEoJyArIGluZGV4ICsgJykgYScpO1xuXHRcdFx0aWYgKHRhYlRvU2hvdy5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdGhpc3RvcnlTdGFjay5wdXNoKG9iai5jdXJyZW50SW5kZXgoKSk7XG5cdFx0XHRcdHRhYlRvU2hvdy50YWIoJ3Nob3cnKTtcblx0XHRcdH1cblx0XHR9O1xuXHRcdHRoaXMuZGlzYWJsZSA9IGZ1bmN0aW9uIChpbmRleCkge1xuXHRcdFx0JG5hdmlnYXRpb24uZmluZChiYXNlSXRlbVNlbGVjdG9yICsgJzplcSgnICsgaW5kZXggKyAnKScpLmFkZENsYXNzKCdkaXNhYmxlZCcpO1xuXHRcdH07XG5cdFx0dGhpcy5lbmFibGUgPSBmdW5jdGlvbiAoaW5kZXgpIHtcblx0XHRcdCRuYXZpZ2F0aW9uLmZpbmQoYmFzZUl0ZW1TZWxlY3RvciArICc6ZXEoJyArIGluZGV4ICsgJyknKS5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTtcblx0XHR9O1xuXHRcdHRoaXMuaGlkZSA9IGZ1bmN0aW9uIChpbmRleCkge1xuXHRcdFx0JG5hdmlnYXRpb24uZmluZChiYXNlSXRlbVNlbGVjdG9yICsgJzplcSgnICsgaW5kZXggKyAnKScpLmhpZGUoKTtcblx0XHR9O1xuXHRcdHRoaXMuZGlzcGxheSA9IGZ1bmN0aW9uIChpbmRleCkge1xuXHRcdFx0JG5hdmlnYXRpb24uZmluZChiYXNlSXRlbVNlbGVjdG9yICsgJzplcSgnICsgaW5kZXggKyAnKScpLnNob3coKTtcblx0XHR9O1xuXHRcdHRoaXMucmVtb3ZlID0gZnVuY3Rpb24gKGFyZ3MpIHtcblx0XHRcdHZhciAkaW5kZXggPSBhcmdzWzBdO1xuXHRcdFx0dmFyICRyZW1vdmVUYWJQYW5lID0gdHlwZW9mIGFyZ3NbMV0gIT0gJ3VuZGVmaW5lZCcgPyBhcmdzWzFdIDogZmFsc2U7XG5cdFx0XHR2YXIgJGl0ZW0gPSAkbmF2aWdhdGlvbi5maW5kKGJhc2VJdGVtU2VsZWN0b3IgKyAnOmVxKCcgKyAkaW5kZXggKyAnKScpO1xuXG5cdFx0XHQvLyBSZW1vdmUgdGhlIHRhYiBwYW5lIGZpcnN0IGlmIG5lZWRlZFxuXHRcdFx0aWYgKCRyZW1vdmVUYWJQYW5lKSB7XG5cdFx0XHRcdHZhciAkaHJlZiA9ICRpdGVtLmZpbmQoJ2EnKS5hdHRyKCdocmVmJyk7XG5cdFx0XHRcdCQoJGhyZWYpLnJlbW92ZSgpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBSZW1vdmUgbWVudSBpdGVtXG5cdFx0XHQkaXRlbS5yZW1vdmUoKTtcblx0XHR9O1xuXG5cdFx0dmFyIGlubmVyVGFiQ2xpY2sgPSBmdW5jdGlvbiAoZSkge1xuXHRcdFx0Ly8gR2V0IHRoZSBpbmRleCBvZiB0aGUgY2xpY2tlZCB0YWJcblx0XHRcdHZhciAkdWwgPSAkbmF2aWdhdGlvbi5maW5kKGJhc2VJdGVtU2VsZWN0b3IpO1xuXHRcdFx0dmFyIGNsaWNrZWRJbmRleCA9ICR1bC5pbmRleCgkKGUuY3VycmVudFRhcmdldCkucGFyZW50KGJhc2VJdGVtU2VsZWN0b3IpKTtcblx0XHRcdHZhciAkY2xpY2tlZFRhYiA9ICQoJHVsW2NsaWNrZWRJbmRleF0pO1xuXHRcdFx0aWYgKCRzZXR0aW5ncy5vblRhYkNsaWNrICYmIHR5cGVvZiAkc2V0dGluZ3Mub25UYWJDbGljayA9PT0gJ2Z1bmN0aW9uJyAmJiAkc2V0dGluZ3Mub25UYWJDbGljaygkYWN0aXZlVGFiLCAkbmF2aWdhdGlvbiwgb2JqLmN1cnJlbnRJbmRleCgpLCBjbGlja2VkSW5kZXgsICRjbGlja2VkVGFiKSA9PT0gZmFsc2UpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHR2YXIgaW5uZXJUYWJTaG93biA9IGZ1bmN0aW9uIChlKSB7XG5cdFx0XHQvLyB1c2Ugc2hvd24gaW5zdGVhZCBvZiBzaG93IHRvIGhlbHAgcHJldmVudCBkb3VibGUgZmlyaW5nXG5cdFx0XHR2YXIgJGVsZW1lbnQgPSAkKGUudGFyZ2V0KS5wYXJlbnQoKTtcblx0XHRcdHZhciBuZXh0VGFiID0gJG5hdmlnYXRpb24uZmluZChiYXNlSXRlbVNlbGVjdG9yKS5pbmRleCgkZWxlbWVudCk7XG5cblx0XHRcdC8vIElmIGl0J3MgZGlzYWJsZWQgdGhlbiBkbyBub3QgY2hhbmdlXG5cdFx0XHRpZiAoJGVsZW1lbnQuaGFzQ2xhc3MoJ2Rpc2FibGVkJykpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoJHNldHRpbmdzLm9uVGFiQ2hhbmdlICYmIHR5cGVvZiAkc2V0dGluZ3Mub25UYWJDaGFuZ2UgPT09ICdmdW5jdGlvbicgJiYgJHNldHRpbmdzLm9uVGFiQ2hhbmdlKCRhY3RpdmVUYWIsICRuYXZpZ2F0aW9uLCBvYmouY3VycmVudEluZGV4KCksIG5leHRUYWIpID09PSBmYWxzZSkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdCRhY3RpdmVUYWIgPSAkZWxlbWVudDsgLy8gYWN0aXZhdGVkIHRhYlxuXHRcdFx0b2JqLmZpeE5hdmlnYXRpb25CdXR0b25zKCk7XG5cdFx0fTtcblxuXHRcdHRoaXMucmVzZXRXaXphcmQgPSBmdW5jdGlvbiAoKSB7XG5cblx0XHRcdC8vIHJlbW92ZSB0aGUgZXhpc3RpbmcgaGFuZGxlcnNcblx0XHRcdCQoJ2FbZGF0YS10b2dnbGU9XCJ0YWJcIl0nLCAkbmF2aWdhdGlvbikub2ZmKCdjbGljaycsIGlubmVyVGFiQ2xpY2spO1xuXHRcdFx0JCgnYVtkYXRhLXRvZ2dsZT1cInRhYlwiXScsICRuYXZpZ2F0aW9uKS5vZmYoJ3Nob3duIHNob3duLmJzLnRhYicsIGlubmVyVGFiU2hvd24pO1xuXG5cdFx0XHQvLyByZXNldCBlbGVtZW50cyBiYXNlZCBvbiBjdXJyZW50IHN0YXRlIG9mIHRoZSBET01cblx0XHRcdCRuYXZpZ2F0aW9uID0gZWxlbWVudC5maW5kKCd1bDpmaXJzdCcsIGVsZW1lbnQpO1xuXHRcdFx0JGFjdGl2ZVRhYiA9ICRuYXZpZ2F0aW9uLmZpbmQoYmFzZUl0ZW1TZWxlY3RvciArICcuYWN0aXZlJywgZWxlbWVudCk7XG5cblx0XHRcdC8vIHJlLWFkZCBoYW5kbGVyc1xuXHRcdFx0JCgnYVtkYXRhLXRvZ2dsZT1cInRhYlwiXScsICRuYXZpZ2F0aW9uKS5vbignY2xpY2snLCBpbm5lclRhYkNsaWNrKTtcblx0XHRcdCQoJ2FbZGF0YS10b2dnbGU9XCJ0YWJcIl0nLCAkbmF2aWdhdGlvbikub24oJ3Nob3duIHNob3duLmJzLnRhYicsIGlubmVyVGFiU2hvd24pO1xuXG5cdFx0XHRvYmouZml4TmF2aWdhdGlvbkJ1dHRvbnMoKTtcblx0XHR9O1xuXG5cdFx0JG5hdmlnYXRpb24gPSBlbGVtZW50LmZpbmQoJ3VsOmZpcnN0JywgZWxlbWVudCk7XG5cdFx0JGFjdGl2ZVRhYiA9ICRuYXZpZ2F0aW9uLmZpbmQoYmFzZUl0ZW1TZWxlY3RvciArICcuYWN0aXZlJywgZWxlbWVudCk7XG5cblx0XHRpZiAoISRuYXZpZ2F0aW9uLmhhc0NsYXNzKCRzZXR0aW5ncy50YWJDbGFzcykpIHtcblx0XHRcdCRuYXZpZ2F0aW9uLmFkZENsYXNzKCRzZXR0aW5ncy50YWJDbGFzcyk7XG5cdFx0fVxuXG5cdFx0Ly8gTG9hZCBvbkluaXRcblx0XHRpZiAoJHNldHRpbmdzLm9uSW5pdCAmJiB0eXBlb2YgJHNldHRpbmdzLm9uSW5pdCA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0JHNldHRpbmdzLm9uSW5pdCgkYWN0aXZlVGFiLCAkbmF2aWdhdGlvbiwgMCk7XG5cdFx0fVxuXG5cdFx0Ly8gTG9hZCBvblNob3dcblx0XHRpZiAoJHNldHRpbmdzLm9uU2hvdyAmJiB0eXBlb2YgJHNldHRpbmdzLm9uU2hvdyA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0JHNldHRpbmdzLm9uU2hvdygkYWN0aXZlVGFiLCAkbmF2aWdhdGlvbiwgb2JqLm5leHRJbmRleCgpKTtcblx0XHR9XG5cblx0XHQkKCdhW2RhdGEtdG9nZ2xlPVwidGFiXCJdJywgJG5hdmlnYXRpb24pLm9uKCdjbGljaycsIGlubmVyVGFiQ2xpY2spO1xuXG5cdFx0Ly8gYXR0YWNoIHRvIGJvdGggc2hvd24gYW5kIHNob3duLmJzLnRhYiB0byBzdXBwb3J0IEJvb3RzdHJhcCB2ZXJzaW9ucyAyLjMuMiBhbmQgMy4wLjBcblx0XHQkKCdhW2RhdGEtdG9nZ2xlPVwidGFiXCJdJywgJG5hdmlnYXRpb24pLm9uKCdzaG93biBzaG93bi5icy50YWInLCBpbm5lclRhYlNob3duKTtcblx0fTtcblx0JC5mbi5ib290c3RyYXBXaXphcmQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuXHRcdC8vZXhwb3NlIG1ldGhvZHNcblx0XHRpZiAodHlwZW9mIG9wdGlvbnMgPT0gJ3N0cmluZycpIHtcblx0XHRcdHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcblx0XHRcdGlmIChhcmdzLmxlbmd0aCA9PT0gMSkge1xuXHRcdFx0XHRhcmdzLnRvU3RyaW5nKCk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdGhpcy5kYXRhKCdib290c3RyYXBXaXphcmQnKVtvcHRpb25zXShhcmdzKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoaW5kZXgpIHtcblx0XHRcdHZhciBlbGVtZW50ID0gJCh0aGlzKTtcblx0XHRcdC8vIFJldHVybiBlYXJseSBpZiB0aGlzIGVsZW1lbnQgYWxyZWFkeSBoYXMgYSBwbHVnaW4gaW5zdGFuY2Vcblx0XHRcdGlmIChlbGVtZW50LmRhdGEoJ2Jvb3RzdHJhcFdpemFyZCcpKSByZXR1cm47XG5cdFx0XHQvLyBwYXNzIG9wdGlvbnMgdG8gcGx1Z2luIGNvbnN0cnVjdG9yXG5cdFx0XHR2YXIgd2l6YXJkID0gbmV3IGJvb3RzdHJhcFdpemFyZENyZWF0ZShlbGVtZW50LCBvcHRpb25zKTtcblx0XHRcdC8vIFN0b3JlIHBsdWdpbiBvYmplY3QgaW4gdGhpcyBlbGVtZW50J3MgZGF0YVxuXHRcdFx0ZWxlbWVudC5kYXRhKCdib290c3RyYXBXaXphcmQnLCB3aXphcmQpO1xuXHRcdFx0Ly8gYW5kIHRoZW4gdHJpZ2dlciBpbml0aWFsIGNoYW5nZVxuXHRcdFx0d2l6YXJkLmZpeE5hdmlnYXRpb25CdXR0b25zKCk7XG5cdFx0fSk7XG5cdH07XG5cblx0Ly8gZXhwb3NlIG9wdGlvbnNcblx0JC5mbi5ib290c3RyYXBXaXphcmQuZGVmYXVsdHMgPSB7XG5cdFx0dGFiQ2xhc3M6ICduYXYgbmF2LXBpbGxzJyxcblx0XHRuZXh0U2VsZWN0b3I6ICcud2l6YXJkIGxpLm5leHQnLFxuXHRcdHByZXZpb3VzU2VsZWN0b3I6ICcud2l6YXJkIGxpLnByZXZpb3VzJyxcblx0XHRmaXJzdFNlbGVjdG9yOiAnLndpemFyZCBsaS5maXJzdCcsXG5cdFx0bGFzdFNlbGVjdG9yOiAnLndpemFyZCBsaS5sYXN0Jyxcblx0XHRmaW5pc2hTZWxlY3RvcjogJy53aXphcmQgbGkuZmluaXNoJyxcblx0XHRiYWNrU2VsZWN0b3I6ICcud2l6YXJkIGxpLmJhY2snLFxuXHRcdG9uU2hvdzogbnVsbCxcblx0XHRvbkluaXQ6IG51bGwsXG5cdFx0b25OZXh0OiBudWxsLFxuXHRcdG9uUHJldmlvdXM6IG51bGwsXG5cdFx0b25MYXN0OiBudWxsLFxuXHRcdG9uRmlyc3Q6IG51bGwsXG5cdFx0b25GaW5pc2g6IG51bGwsXG5cdFx0b25CYWNrOiBudWxsLFxuXHRcdG9uVGFiQ2hhbmdlOiBudWxsLFxuXHRcdG9uVGFiQ2xpY2s6IG51bGwsXG5cdFx0b25UYWJTaG93OiBudWxsXG5cdH07XG59KShqUXVlcnkpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2pzL2NvbXBvbmVudHMvYm9vdHN0cmFwLXdpemFyZC9qcXVlcnkuYm9vdHN0cmFwLndpemFyZC5qc1xuLy8gbW9kdWxlIGlkID0gOTVcbi8vIG1vZHVsZSBjaHVua3MgPSA5Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9")}});